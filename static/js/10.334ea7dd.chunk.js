(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[10,12],{142:function(e,t,n){"use strict";n.r(t);var s=n(15),a=n(54),c=(n(8),n(36)),r=n.n(c),o=n(111),i=n(99),l=n(115),u=(n(121),n(6)),j=["close","children"];t.default=function(e){var t=e.close,n=e.children,c=Object(a.a)(e,j);return r.a.createPortal(Object(u.jsxs)("div",{className:"settings",children:[Object(u.jsx)("div",{className:"sidebar-region",children:Object(u.jsx)("div",{className:"sidebar-scroller",children:Object(u.jsx)(o.a,Object(s.a)({},c))})}),Object(u.jsx)("div",{className:"content-region",children:Object(u.jsx)("div",{className:"content-transition-wrapper",children:Object(u.jsxs)("div",{className:"content-scroller",children:[Object(u.jsx)("main",{className:"content",children:n}),Object(u.jsx)("div",{className:"actions",children:Object(u.jsx)(i.a,{svg:l.a,onClick:t,className:"close-btn"})})]})})})]}),document.querySelector("body"))}},168:function(e,t,n){"use strict";var s=n(12),a=n(8),c=n(16),r=n(154),o=(n(133),n(134)),i=n(135),l=n(153),u=n(120),j=n(136),b=n(6);t.a=function(e){var t=e.visitingChannel,n=Object(a.useState)(!1),d=Object(s.a)(n,2),m=d[0],O=d[1],p=Object(c.e)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("nav",{id:"main-nav",children:[Object(b.jsx)(o.a,{visitingChannel:t}),Object(b.jsxs)("div",{className:"scroller",children:[Object(b.jsx)(r.a,{}),Object(b.jsxs)("div",{className:"btn-ctn",children:[Object(b.jsx)(i.a,{svg:u.a,active:m,onClick:function(){return O(!0)},tooltipText:"Create a channel"}),Object(b.jsx)(i.a,{svg:j.a,active:p.location.pathname.includes("explore"),onClick:function(){return p.push("/explore")},tooltipText:"Explore public channels"})]})]})]}),m&&Object(b.jsx)(l.a,{close:function(){return O(!1)}})]})}},179:function(e,t,n){"use strict";var s=n(12),a=n(8),c=n(53),r=n(105),o=n(99),i=n(0),l=n(2),u=n(19),j=n(30),b=n(142),d=n(15),m=n(42),O=n(164),p=n(139),x=n(140),h=n(141),f=n(114),w=n(109),v=n(6),g=function(e){var t=e.editProfile,n=Object(a.useContext)(c.a).setUser,r=Object(a.useContext)(j.a).setError,o=Object(a.useContext)(c.a).channelList,b=Object(a.useState)(),g=Object(s.a)(b,2),y=g[0],C=g[1],N=Object(m.a)(),_=N.inputValues,k=N.handleChange,S=N.resetInputValues,E=Object(a.useCallback)((function(){C({title:"Change your username",subheader:"Enter a new username and your existing password",fields:[{label:"username",name:"new_username",type:"text"},{label:"current password",name:"current_password",type:"password"}],inputsToSubmit:"new_username"})}),[]),L=Object(a.useCallback)(Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.l)("displayName",_.new_username,n,o);case 2:case"end":return e.stop()}}),e)}))),[_.new_username,n,o]),R=Object(a.useCallback)((function(){C({title:"Enter an email address",subheader:"Enter a new email address and your existing password",fields:[{label:"email",name:"new_email",type:"email"},{label:"current password",name:"current_password",type:"password"}],inputsToSubmit:"new_email"})}),[]),T=Object(a.useCallback)(Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.l)("email",_.new_email,n);case 2:case"end":return e.stop()}}),e)}))),[_.new_email,n]),A=Object(a.useCallback)((function(){C({title:"Enter an email address",subheader:"Enter your current password and a new password",fields:[{label:"current password",name:"current_password",type:"password"},{label:"new password",name:"new_password",type:"password"},{label:"confirm new password",name:"confirm_password",type:"password"}],inputsToSubmit:"new_password"})}),[]),V=Object(a.useCallback)(Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.l)("password",_.new_password);case 2:case"end":return e.stop()}}),e)}))),[_.new_password]),P=Object(a.useCallback)((function(){C({title:"Delete Account",subheader:"Are you sure you want to delete your account? This will immediately log you out of your account and you will not be able to log in again. Forever.",fields:[{label:"password",name:"password",type:"password"}],actionBtnText:"Delete Account",inputsToSubmit:"delete",cleanUp:function(){return""}})}),[]),D=Object(a.useCallback)((function(){return Object(u.g)(o,r)}),[o,r]),F=Object(a.useCallback)((function(){switch(null===y||void 0===y?void 0:y.inputsToSubmit){case"new_username":return L;case"new_email":return T;case"new_password":return V;case"delete":return D}}),[L,V,T,D,null===y||void 0===y?void 0:y.inputsToSubmit]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("section",{className:"my_account",children:[Object(v.jsx)("header",{children:Object(v.jsx)("h2",{children:"My Account"})}),Object(v.jsxs)("div",{className:"inner-content",children:[Object(v.jsx)(O.a,{editProfile:t,editUsername:E,editEmail:R}),Object(v.jsx)(p.a,{}),Object(v.jsx)(x.a,{editPassword:A}),Object(v.jsx)(p.a,{}),Object(v.jsx)(h.a,{deleteAcc:P})]})]}),y&&Object(v.jsx)(f.a,{close:function(){C(),S()},children:Object(v.jsx)(w.a,Object(d.a)(Object(d.a)({close:function(){C(),S()},handleChange:k,className:"settings-popup"},y),{},{submitAction:F(),inputValues:_,setError:r}))})]})},y=n(155),C=n(57),N=function(e){var t=e.close,n=Object(a.useContext)(j.a).SetError,c=Object(a.useReducer)((function(e,t){if("swap_to"===t.type)switch(t.payload){case"my account":return"my account";case"user profile":return"user profile";case"log out":!function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.f)();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),n(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()();break;default:throw new C.a("that doesn't exist!")}}),"my account"),r=Object(s.a)(c,2),o=r[0],d=r[1];return Object(v.jsx)(b.default,{close:t,categories:["user settings","none"],btnList:[_("my account","user settings",!0),_("user profile","user settings"),_("log out","none")],dispatch:d,children:o&&{"my account":Object(v.jsx)(g,{editProfile:function(){return d({type:"swap_to",payload:"user profile"})}}),"user profile":Object(v.jsx)(y.a,{})}[o]})};function _(e,t,n){return{text:e,category:t,isDefault:n}}var k=n(123);n(132),t.a=function(){var e=Object(a.useContext)(c.a).user,t=Object(a.useState)(!1),n=Object(s.a)(t,2),i=n[0],l=n[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("section",{className:"user-info-panel",children:Object(v.jsxs)("div",{className:"ctn",children:[Object(v.jsx)(r.a,{img:e.photoURL,color:e.color}),Object(v.jsx)("div",{className:"name-tag",children:Object(v.jsx)("div",{className:"username-wrapper",children:e.displayName})}),Object(v.jsx)("div",{className:"btn-ctn",children:Object(v.jsx)(o.a,{svg:k.a,onClick:function(){l(!0)}})})]})}),i&&Object(v.jsx)(N,{close:function(){return l(!1)}})]})}},375:function(e,t,n){"use strict";n.r(t);var s=n(12),a=n(8),c=n(16),r=n(126),o=n(53),i=n(0),l=n(2),u=n(30),j=n(42),b=n(41),d=n(179),m=n(131),O=n(190),p=n(114),x=n(109),h=n(236),f=n(120),w=(n(191),n(6)),v=function(e){var t=e.channel,n=e.categories,c=e.list;n=n||[];var v=Object(a.useContext)(o.a).mentioned,g=Object(a.useContext)(r.a),y=g.userRole,C=g.roomCategories,N=Object(a.useContext)(u.a).setError,_=Object(a.useState)(!1),k=Object(s.a)(_,2),S=k[0],E=k[1],L=Object(j.a)(),R=L.inputValues,T=L.handleChange,A=L.resetInputValues;function V(){return(V=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.c)(t.id,R.room_name,R.room_category||null);case 2:if(-1!==C.indexOf(R.room_category)){e.next=5;break}return e.next=5,Object(b.d)(t.id,R.room_category);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=Object(a.useState)(),D=Object(s.a)(P,2),F=D[0],U=D[1];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("nav",{className:"channel-nav sidebar",children:[Object(w.jsx)("header",{children:t.name}),Object(w.jsxs)("div",{className:"room-list",children:["owner"===y&&Object(w.jsx)("li",{className:"room-link-item new_room-btn",children:Object(w.jsxs)("button",{className:"content",onClick:function(){return E(!0)},children:[Object(w.jsx)("img",{src:f.a,alt:"plus icon"}),Object(w.jsx)("span",{children:"Add new room"})]})}),n.map((function(e,n){return Object(w.jsx)(m.a,{cat:e,isHeader:"none"!==e,className:"category-room-wrapper",children:c.filter((function(t){return t.category===e||!t.category&&"none"===e})).map((function(e){var n,s;return!(null===v||void 0===v||null===(n=v[t.id])||void 0===n||!n[e.id])&&(s=Object.keys(v[t.id][e.id]).length),Object(w.jsx)(O.a,{channel:t,room:e,mentionCount:s,isAdmin:"owner"===y,editRoom:function(){return U(e)}},e.id)}))},n)}))]}),Object(w.jsx)(d.a,{})]}),S&&Object(w.jsx)(p.a,{close:function(){E(!1),A()},children:Object(w.jsx)(x.a,{close:function(){E(!1),A()},handleChange:T,className:"settings-popup",title:"Create a new room",fields:[{label:"Room Name",name:"room_name",type:"text"},{label:"Room Category",name:"room_category",type:"text"}],submitAction:function(){return V.apply(this,arguments)},setError:N,inputValues:R})}),F&&Object(w.jsx)(h.a,{room:F,close:function(){return U()}})]})},g=n(235),y=n(234),C=n(233),N=n(168),_=(n(232),n(188)),k=n(189);t.default=function(e){var t=e.finishLoading,n=e.setError,i=Object(a.useContext)(o.a),l=i.user,u=i.channelList,j=Object(c.g)(),b=j.channelID,d=j.roomID,m=Object(a.useState)({id:b}),O=Object(s.a)(m,2),p=O[0],x=O[1],h=Object(a.useState)({id:d}),f=Object(s.a)(h,2),S=f[0],E=f[1],L=Object(a.useCallback)((function(e,t){return x({name:e,icon:t,id:b})}),[b]),R=Object(_.a)(l,b,u,L,n),T=R.visitingChannel,A=R.roleList,V=R.roomCategories,P=R.roomList,D=R.userList,F=R.onlineUsers,U=R.userRole,I=Object(a.useCallback)((function(e){return E({name:e,id:d})}),[d]),M=Object(k.a)(l,b,d,I,t,n),J=M.msgList,q=M.submitMsg;return Object(w.jsx)(r.a.Provider,{value:{userRole:U,roomCategories:V},children:Object(w.jsxs)("div",{className:"channel-view",children:[Object(w.jsx)(N.a,{visitingChannel:T}),p&&Object(w.jsx)(v,{channel:p,categories:V,list:P,setRoom:E,currentRoom:S}),S&&Object(w.jsxs)("div",{className:"content",children:[Object(w.jsx)(y.a,{room:S}),Object(w.jsxs)("div",{className:"chat-ctn",children:[Object(w.jsx)(C.a,{room:S,msgList:J,userList:D,submitMsg:q,isVisitor:!!T}),Object(w.jsx)(g.a,{list:F,roles:A})]})]})]})})}}}]);
//# sourceMappingURL=10.334ea7dd.chunk.js.map