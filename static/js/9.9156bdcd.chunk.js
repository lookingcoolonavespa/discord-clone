(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[9,11],{112:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(12),s=n(8);function c(e,t){var n=Object(s.useState)(0),c=Object(a.a)(n,2),r=c[0],i=c[1],o=Object(s.useState)(!1),l=Object(a.a)(o,2),u=l[0],j=l[1],b=Object(s.useState)(0),d=Object(a.a)(b,2),O=d[0],m=d[1];return{handleTouchStart:function(e){i(e.targetTouches[0].clientX)},handleTouchMove:function(e){j(!0),m(e.targetTouches[0].clientX)},handleTouchEnd:function(){u&&(r-O>100&&e&&e(),r-O<-100&&t&&t()),m(0),i(0),j(!1)}}}},113:function(e,t,n){"use strict";var a=n(8),s=n(125),c=n(6);t.a=function(e){var t=e.isVisible,n=e.isLeft,r=e.className,i=e.children,o=e.hide,l=n?"left-sidebar":"right-sidebar",u=Object(a.useRef)();return Object(s.useTransition)(t,{key:function(e){return e},from:{transform:n?"translate3d(-100%,0,0)":"translate3d(100%,0,0)"},enter:{transform:"translate3d(0%,0,0)"},leave:{transform:n?"translate3d(-100%,0,0)":"translate3d(100%,0,0)"},expires:0})((function(e,t,n,a){return t&&Object(c.jsx)(s.animated.div,{className:r?"".concat(r," ").concat(l):"".concat(l),onClick:o,children:Object(c.jsx)(s.animated.div,{className:"content-wrapper",ref:u,onClick:function(e){e.stopPropagation(),(e.target.closest("li")||e.target.closest("button"))&&o()},style:e,children:i})})}))}},138:function(e,t,n){"use strict";n.r(t);var a=n(15),s=n(12),c=n(54),r=n(8),i=n(36),o=n.n(i),l=n(112),u=n(111),j=n(99),b=n(113),d=n(115),O=(n(121),n(6)),m=["close","children"];t.default=function(e){var t=e.close,n=e.children,i=Object(c.a)(e,m),h=Object(r.useState)(!0),p=Object(s.a)(h,2),f=p[0],x=p[1],w=Object(r.useCallback)((function(){x(!1)}),[]),v=Object(r.useCallback)((function(){x(!0)}),[]),g=Object(l.a)(w,v),C=g.handleTouchStart,y=g.handleTouchMove,k=g.handleTouchEnd;return o.a.createPortal(Object(O.jsxs)("div",{className:"settings mobile",onTouchEnd:k,onTouchMove:y,onTouchStart:C,children:[Object(O.jsx)(b.a,{isLeft:!0,className:"sidebar-region",hide:w,isVisible:f,children:Object(O.jsx)("div",{className:"sidebar-scroller",children:Object(O.jsx)(u.a,Object(a.a)({},i))})}),Object(O.jsx)("div",{className:"content-region",children:Object(O.jsx)("div",{className:"content-transition-wrapper",children:Object(O.jsxs)("div",{className:"content-scroller",children:[Object(O.jsx)("main",{className:"content",children:n}),Object(O.jsx)("div",{className:"actions",children:Object(O.jsx)(j.a,{svg:d.a,onClick:t,className:"close-btn"})})]})})})]}),document.querySelector("body"))}},156:function(e,t,n){"use strict";var a=n(8),s=n(53),c=n(105),r=n(99),i=(n(132),n(123)),o=n(6);t.a=function(e){var t=e.showSettings,n=Object(a.useContext)(s.a).user;return Object(o.jsx)("section",{className:"user-info-panel",children:Object(o.jsxs)("div",{className:"ctn",children:[Object(o.jsx)(c.a,{img:n.photoURL,color:n.color}),Object(o.jsx)("div",{className:"name-tag",children:Object(o.jsx)("div",{className:"username-wrapper",children:n.displayName})}),Object(o.jsx)("div",{className:"btn-ctn",children:Object(o.jsx)(r.a,{svg:i.a,onClick:t})})]})})}},160:function(e,t,n){"use strict";n(8);var a=n(16),s=n(154),c=(n(133),n(134)),r=n(135),i=n(120),o=n(136),l=n(6);t.a=function(e){var t=e.beginCreateChannel,n=e.isCreateChannel,u=e.visitingChannel,j=Object(a.e)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("nav",{id:"main-nav",children:[Object(l.jsx)(c.a,{visitingChannel:u}),Object(l.jsxs)("div",{className:"scroller",children:[Object(l.jsx)(s.a,{}),Object(l.jsxs)("div",{className:"btn-ctn",children:[Object(l.jsx)(r.a,{svg:i.a,active:n,onClick:t,tooltipText:"Create a channel"}),Object(l.jsx)(r.a,{svg:o.a,active:j.location.pathname.includes("explore"),onClick:function(){return j.push("/explore")},tooltipText:"Explore public channels"})]})]})]})})}},181:function(e,t,n){"use strict";var a=n(0),s=n(2),c=n(12),r=n(8),i=n(19),o=n(30),l=n(138),u=n(15),j=n(42),b=n(53),d=n(163),O=n(139),m=n(140),h=n(141),p=n(114),f=n(109),x=n(6),w=function(){var e=Object(r.useContext)(b.a),t=e.user,n=e.setUser,l=Object(r.useContext)(o.a).setError,w=Object(r.useContext)(b.a).channelList,v=Object(r.useState)(),g=Object(c.a)(v,2),C=g[0],y=g[1],k=Object(j.a)(),N=k.inputValues,S=k.handleChange,_=k.resetInputValues,T=Object(r.useCallback)((function(){y({title:"Change your username",subheader:"Enter a new username and your existing password",fields:[{label:"username",name:"new_username",type:"text"},{label:"current password",name:"current_password",type:"password"}],inputsToSubmit:"new_username"})}),[]),E=Object(r.useCallback)(Object(s.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.l)("displayName",N.new_username,n,w);case 2:case"end":return e.stop()}}),e)}))),[N.new_username,n,w]),L=Object(r.useCallback)((function(){y({title:"Enter an email address",subheader:"Enter a new email address and your existing password",fields:[{label:"email",name:"new_email",type:"email"},{label:"current password",name:"current_password",type:"password"}],inputsToSubmit:"new_email"})}),[]),M=Object(r.useCallback)(Object(s.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.l)("email",N.new_email,n);case 2:case"end":return e.stop()}}),e)}))),[N.new_email,n]),R=Object(r.useCallback)((function(){y({title:"Enter an email address",subheader:"Enter your current password and a new password",fields:[{label:"current password",name:"current_password",type:"password"},{label:"new password",name:"new_password",type:"password"},{label:"confirm new password",name:"confirm_password",type:"password"}],inputsToSubmit:"new_password"})}),[]),V=Object(r.useCallback)(Object(s.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.l)("password",N.new_password);case 2:case"end":return e.stop()}}),e)}))),[N.new_password]),A=Object(r.useCallback)((function(){y({title:"Delete Account",subheader:"Are you sure you want to delete your account? This will immediately log you out of your account and you will not be able to log in again. Forever.",fields:[{label:"password",name:"password",type:"password"}],actionBtnText:"Delete Account",inputsToSubmit:"delete",cleanUp:function(){return""}})}),[]),U=Object(r.useCallback)((function(){return Object(i.g)(w,l)}),[w,l]),F=Object(r.useCallback)((function(){switch(null===C||void 0===C?void 0:C.inputsToSubmit){case"new_username":return E;case"new_email":return M;case"new_password":return V;case"delete":return U}}),[E,V,M,U,null===C||void 0===C?void 0:C.inputsToSubmit]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("section",{className:"my_account",children:[Object(x.jsx)("header",{children:Object(x.jsx)("h2",{children:"My Account"})}),Object(x.jsxs)("div",{className:"inner-content",children:[Object(x.jsxs)("div",{className:"field-list",children:[Object(x.jsx)(d.a,{item:"username",display:t.displayName,onClick:T}),Object(x.jsx)(d.a,{item:"email",display:t.email,onClick:L})]}),Object(x.jsx)(O.a,{}),Object(x.jsx)(m.a,{editPassword:R}),Object(x.jsx)(O.a,{}),Object(x.jsx)(h.a,{deleteAcc:A})]})]}),C&&Object(x.jsx)(p.a,{close:function(){y(),_()},children:Object(x.jsx)(f.a,Object(u.a)(Object(u.a)({close:function(){y(),_()},handleChange:S,className:"settings-popup"},C),{},{submitAction:F(),isMobile:!0,inputValues:N,setError:l}))})]})},v=n(155),g=n(57);t.a=function(e){var t=e.close,n=Object(r.useContext)(o.a).SetError,u=Object(r.useReducer)((function(e,t){if("swap_to"===t.type)switch(t.payload){case"my account":return"my account";case"user profile":return"user profile";case"log out":!function(){var e=Object(s.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.f)();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),n(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()();break;default:throw new g.a("that doesn't exist!")}}),"my account"),j=Object(c.a)(u,2),b=j[0],d=j[1];return Object(x.jsx)(l.default,{close:t,categories:["user settings","none"],btnList:[C("my account","user settings"),C("user profile","user settings"),C("log out","none")],dispatch:d,children:b&&{"my account":Object(x.jsx)(w,{editProfile:function(){return d({type:"swap_to",payload:"user profile"})}}),"user profile":Object(x.jsx)(v.a,{isMobile:!0})}[b]})};function C(e,t){return{text:e,category:t}}},374:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(2),c=n(12),r=n(8),i=n(16),o=n(53),l=n(112),u=n(188),j=n(189),b=n(126),d=n(42),O=n(41),m=n(156),h=n(131),p=n(190),f=n(120),x=(n(191),n(6)),w=function(e){var t=e.channel,n=e.categories,a=e.list,s=e.showUserSettings,c=e.showCreateRoom;n=n||[];var i=Object(r.useContext)(o.a).mentioned,l=Object(r.useContext)(b.a).userRole;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("nav",{className:"channel-nav sidebar",children:[Object(x.jsx)("header",{children:t.name}),Object(x.jsxs)("div",{className:"room-list",children:["owner"===l&&Object(x.jsx)("li",{className:"room-link-item new_room-btn",children:Object(x.jsxs)("button",{className:"content",onClick:c,children:[Object(x.jsx)("img",{src:f.a,alt:"plus icon"}),Object(x.jsx)("span",{children:"Add new room"})]})}),n.map((function(e,n){return Object(x.jsx)(h.a,{cat:e,isHeader:"none"!==e,className:"category-room-wrapper",children:a.filter((function(t){return t.category===e||!t.category&&"none"===e})).map((function(e){var n,a;return!(null===i||void 0===i||null===(n=i[t.id])||void 0===n||!n[e.id])&&(a=Object.keys(i[t.id][e.id]).length),Object(x.jsx)(p.a,{channel:t,room:e,mentionCount:a},e.id)}))},n)}))]}),Object(x.jsx)(m.a,{showSettings:s})]})})},v=n(181),g=n(113),C=n(235),y=n(234),k=n(233),N=n(160),S=n(153),_=n(114),T=n(109),E=n(236);n(232),t.default=function(e){var t=e.finishLoading,n=e.setError,m=Object(r.useContext)(o.a),h=m.user,p=m.channelList,f=Object(i.g)(),L=f.channelID,M=f.roomID,R=Object(r.useState)({id:L}),V=Object(c.a)(R,2),A=V[0],U=V[1],F=Object(r.useState)({id:M}),P=Object(c.a)(F,2),D=P[0],I=P[1],J=Object(r.useCallback)((function(e,t){return U({name:e,icon:t,id:L})}),[L]),X=Object(u.a)(h,L,p,J,n),q=X.visitingChannel,B=X.roleList,H=X.roomCategories,z=X.roomList,G=X.userList,K=X.onlineUsers,Q=X.userRole,W=Object(r.useCallback)((function(e){return I({name:e,id:M})}),[M]),Y=Object(j.a)(h,L,M,W,t,n),Z=Y.msgList,$=Y.submitMsg,ee=Object(r.useState)(!1),te=Object(c.a)(ee,2),ne=te[0],ae=te[1],se=Object(r.useState)(!1),ce=Object(c.a)(se,2),re=ce[0],ie=ce[1],oe=Object(r.useCallback)((function(){return ne||re?re?ie(!1):void 0:ae(!0)}),[ne,re]),le=Object(r.useCallback)((function(){return ne?ae(!1):re?void 0:ie(!0)}),[ne,re]),ue=Object(l.a)(le,oe),je=ue.handleTouchStart,be=ue.handleTouchMove,de=ue.handleTouchEnd,Oe=Object(r.useState)(!1),me=Object(c.a)(Oe,2),he=me[0],pe=me[1],fe=Object(r.useState)(!1),xe=Object(c.a)(fe,2),we=xe[0],ve=xe[1],ge=Object(r.useState)(!1),Ce=Object(c.a)(ge,2),ye=Ce[0],ke=Ce[1],Ne=Object(d.a)(),Se=Ne.inputValues,_e=Ne.handleChange,Te=Ne.resetInputValues;function Ee(){return(Ee=Object(s.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)(A.id,Se.room_name,Se.room_category||null);case 2:if(-1!==H.indexOf(Se.room_category)){e.next=5;break}return e.next=5,Object(O.d)(A.id,Se.room_category);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Le=Object(r.useState)(),Me=Object(c.a)(Le,2),Re=Me[0],Ve=Me[1];return Object(x.jsxs)(b.a.Provider,{value:{userRole:Q},children:[Re&&Object(x.jsx)(E.a,{room:Re,close:function(){return Ve()}}),ye&&Object(x.jsx)(_.a,{close:function(){ke(!1),Te()},children:Object(x.jsx)(T.a,{close:function(){ke(!1),Te()},handleChange:_e,className:"settings-popup",title:"Create a new room",fields:[{label:"Room Name",name:"room_name",type:"text"},{label:"Room Category",name:"room_category",type:"text"}],submitAction:function(){return Ee.apply(this,arguments)},setError:n,inputValues:Se})}),we&&Object(x.jsx)(S.a,{isMobile:!0,close:function(){return ve(!1)}}),he?Object(x.jsx)(v.a,{close:function(){return pe(!1)}}):Object(x.jsxs)("div",{className:"channel-view",onTouchStart:je,onTouchMove:be,onTouchEnd:de,children:[A&&Object(x.jsxs)(g.a,{isVisible:ne,isLeft:!0,hide:function(){return ae(!1)},children:[Object(x.jsx)(N.a,{visitingChannel:q,beginCreateChannel:function(){return ve(!0)},isCreateChannel:we}),Object(x.jsx)(w,{channel:A,categories:H,list:z,setRoom:I,currentRoom:D,showUserSettings:function(){pe(!0)},showCreateRoom:function(){ke(!0)}})]}),D&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"content",children:[Object(x.jsx)(y.a,{room:D,isMobile:!0,showUserList:function(){return ie(!0)},showNav:function(){return ae(!0)}}),Object(x.jsx)("div",{className:"chat-ctn",children:Object(x.jsx)(k.a,{room:D,msgList:Z,userList:G,submitMsg:$,isVisitor:!!q})})]}),Object(x.jsx)(g.a,{isLeft:!1,hide:function(){return ie(!1)},isVisible:re,children:Object(x.jsx)(C.a,{list:K,roles:B})})]})]})]})}}}]);
//# sourceMappingURL=9.9156bdcd.chunk.js.map