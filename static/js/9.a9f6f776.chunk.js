(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[9,11],{115:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(12),s=n(8);function c(e,t){var n=Object(s.useState)(0),c=Object(a.a)(n,2),r=c[0],i=c[1],o=Object(s.useState)(!1),l=Object(a.a)(o,2),u=l[0],j=l[1],b=Object(s.useState)(0),d=Object(a.a)(b,2),m=d[0],O=d[1];return{handleTouchStart:function(e){i(e.targetTouches[0].clientX)},handleTouchMove:function(e){j(!0),O(e.targetTouches[0].clientX)},handleTouchEnd:function(){u&&(console.log(r,m),r-m>100&&e&&e(),r-m<-100&&t&&t()),O(0),i(0),j(!1)}}}},116:function(e,t,n){"use strict";var a=n(8),s=n(128),c=n(6);t.a=function(e){var t=e.isVisible,n=e.isLeft,r=e.className,i=e.children,o=e.hide,l=n?"left-sidebar":"right-sidebar",u=Object(a.useRef)();return Object(s.useTransition)(t,{key:function(e){return e},from:{transform:n?"translate3d(-100%,0,0)":"translate3d(100%,0,0)"},enter:{transform:"translate3d(0%,0,0)"},leave:{transform:n?"translate3d(-100%,0,0)":"translate3d(100%,0,0)"},expires:0})((function(e,t,n,a){return t&&Object(c.jsx)(s.animated.div,{className:r?"".concat(r," ").concat(l):"".concat(l),onClick:o,children:Object(c.jsx)(s.animated.div,{className:"content-wrapper",ref:u,onClick:function(e){e.stopPropagation(),(e.target.closest("li")||e.target.closest("button"))&&o()},style:e,children:i})})}))}},141:function(e,t,n){"use strict";n.r(t);var a=n(15),s=n(12),c=n(56),r=n(8),i=n(36),o=n.n(i),l=n(115),u=n(114),j=n(102),b=n(116),d=n(118),m=(n(124),n(6)),O=["close","children"];t.default=function(e){var t=e.close,n=e.children,i=Object(c.a)(e,O),h=Object(r.useState)(!0),p=Object(s.a)(h,2),f=p[0],x=p[1],w=Object(r.useCallback)((function(){x(!1)}),[]),v=Object(r.useCallback)((function(){x(!0)}),[]),g=Object(l.a)(w,v),C=g.handleTouchStart,y=g.handleTouchMove,k=g.handleTouchEnd;return o.a.createPortal(Object(m.jsxs)("div",{className:"settings mobile",onTouchEnd:k,onTouchMove:y,onTouchStart:C,children:[Object(m.jsx)(b.a,{isLeft:!0,className:"sidebar-region",hide:w,isVisible:f,children:Object(m.jsx)("div",{className:"sidebar-scroller",children:Object(m.jsx)(u.a,Object(a.a)({},i))})}),Object(m.jsx)("div",{className:"content-region",children:Object(m.jsx)("div",{className:"content-transition-wrapper",children:Object(m.jsxs)("div",{className:"content-scroller",children:[Object(m.jsx)("main",{className:"content",children:n}),Object(m.jsx)("div",{className:"actions",children:Object(m.jsx)(j.a,{svg:d.a,onClick:t,className:"close-btn"})})]})})})]}),document.querySelector("body"))}},159:function(e,t,n){"use strict";var a=n(8),s=n(54),c=n(108),r=n(102),i=(n(135),n(126)),o=n(6);t.a=function(e){var t=e.showSettings,n=Object(a.useContext)(s.a).user;return Object(o.jsx)("section",{className:"user-info-panel",children:Object(o.jsxs)("div",{className:"ctn",children:[Object(o.jsx)(c.a,{img:n.photoURL,color:n.color}),Object(o.jsx)("div",{className:"name-tag",children:Object(o.jsx)("div",{className:"username-wrapper",children:n.displayName})}),Object(o.jsx)("div",{className:"btn-ctn",children:Object(o.jsx)(r.a,{svg:i.a,onClick:t})})]})})}},163:function(e,t,n){"use strict";n(8);var a=n(16),s=n(157),c=(n(136),n(137)),r=n(138),i=n(123),o=n(139),l=n(6);t.a=function(e){var t=e.beginCreateChannel,n=e.isCreateChannel,u=e.visitingChannel,j=Object(a.e)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("nav",{id:"main-nav",children:[Object(l.jsx)(c.a,{visitingChannel:u}),Object(l.jsxs)("div",{className:"scroller",children:[Object(l.jsx)(s.a,{}),Object(l.jsxs)("div",{className:"btn-ctn",children:[Object(l.jsx)(r.a,{svg:i.a,active:n,onClick:t,tooltipText:"Create a channel"}),Object(l.jsx)(r.a,{svg:o.a,active:j.location.pathname.includes("explore"),onClick:function(){return j.push("/explore")},tooltipText:"Explore public channels"})]})]})]})})}},184:function(e,t,n){"use strict";var a=n(0),s=n.n(a),c=n(2),r=n(12),i=n(8),o=n(18),l=n(30),u=n(141),j=n(15),b=n(43),d=n(54),m=n(166),O=n(142),h=n(143),p=n(144),f=n(117),x=n(112),w=n(6),v=function(){var e=Object(i.useContext)(d.a),t=e.user,n=e.setUser,a=Object(i.useContext)(l.a).setError,u=Object(i.useContext)(d.a).channelList,v=Object(i.useState)(),g=Object(r.a)(v,2),C=g[0],y=g[1],k=Object(b.a)(),N=k.inputValues,S=k.handleChange,_=k.resetInputValues,T=Object(i.useCallback)((function(){y({title:"Change your username",subheader:"Enter a new username and your existing password",fields:[{label:"username",name:"new_username",type:"text"},{label:"current password",name:"current_password",type:"password"}],inputsToSubmit:"new_username"})}),[]),E=Object(i.useCallback)(Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.l)("displayName",N.new_username,n,u);case 2:case"end":return e.stop()}}),e)}))),[N.new_username,n,u]),L=Object(i.useCallback)((function(){y({title:"Enter an email address",subheader:"Enter a new email address and your existing password",fields:[{label:"email",name:"new_email",type:"email"},{label:"current password",name:"current_password",type:"password"}],inputsToSubmit:"new_email"})}),[]),M=Object(i.useCallback)(Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.l)("email",N.new_email,n);case 2:case"end":return e.stop()}}),e)}))),[N.new_email,n]),R=Object(i.useCallback)((function(){y({title:"Enter an email address",subheader:"Enter your current password and a new password",fields:[{label:"current password",name:"current_password",type:"password"},{label:"new password",name:"new_password",type:"password"},{label:"confirm new password",name:"confirm_password",type:"password"}],inputsToSubmit:"new_password"})}),[]),V=Object(i.useCallback)(Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.l)("password",N.new_password);case 2:case"end":return e.stop()}}),e)}))),[N.new_password]),A=Object(i.useCallback)((function(){y({title:"Delete Account",subheader:"Are you sure you want to delete your account? This will immediately log you out of your account and you will not be able to log in again. Forever.",fields:[{label:"password",name:"password",type:"password"}],actionBtnText:"Delete Account",inputsToSubmit:"delete",cleanUp:function(){return""}})}),[]),U=Object(i.useCallback)((function(){return Object(o.g)(u,a)}),[u,a]),F=Object(i.useCallback)((function(){switch(null===C||void 0===C?void 0:C.inputsToSubmit){case"new_username":return E;case"new_email":return M;case"new_password":return V;case"delete":return U}}),[E,V,M,U,null===C||void 0===C?void 0:C.inputsToSubmit]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("section",{className:"my_account",children:[Object(w.jsx)("header",{children:Object(w.jsx)("h2",{children:"My Account"})}),Object(w.jsxs)("div",{className:"inner-content",children:[Object(w.jsxs)("div",{className:"field-list",children:[Object(w.jsx)(m.a,{item:"username",display:t.displayName,onClick:T}),Object(w.jsx)(m.a,{item:"email",display:t.email,onClick:L})]}),Object(w.jsx)(O.a,{}),Object(w.jsx)(h.a,{editPassword:R}),Object(w.jsx)(O.a,{}),Object(w.jsx)(p.a,{deleteAcc:A})]})]}),C&&Object(w.jsx)(f.a,{close:function(){y(),_()},children:Object(w.jsx)(x.a,Object(j.a)(Object(j.a)({close:function(){y(),_()},handleChange:S,className:"settings-popup"},C),{},{submitAction:F(),isMobile:!0,inputValues:N,setError:a}))})]})},g=n(158),C=n(58);t.a=function(e){var t=e.close,n=Object(i.useContext)(l.a).SetError,a=Object(i.useReducer)((function(e,t){if("swap_to"===t.type)switch(t.payload){case"my account":return"my account";case"user profile":return"user profile";case"log out":!function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.f)();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),n(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()();break;default:throw new C.a("that doesn't exist!")}}),"my account"),j=Object(r.a)(a,2),b=j[0],d=j[1];return Object(w.jsx)(u.default,{close:t,categories:["user settings","none"],btnList:[y("my account","user settings"),y("user profile","user settings"),y("log out","none")],dispatch:d,children:b&&{"my account":Object(w.jsx)(v,{editProfile:function(){return d({type:"swap_to",payload:"user profile"})}}),"user profile":Object(w.jsx)(g.a,{isMobile:!0})}[b]})};function y(e,t){return{text:e,category:t}}},378:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(2),r=n(12),i=n(8),o=n(16),l=n(54),u=n(115),j=n(191),b=n(192),d=n(129),m=n(43),O=n(42),h=n(159),p=n(134),f=n(193),x=n(123),w=(n(194),n(6)),v=function(e){var t=e.channel,n=e.categories,a=e.list,s=e.showUserSettings,c=e.showCreateRoom;n=n||[];var r=Object(i.useContext)(l.a).mentioned,o=Object(i.useContext)(d.a).userRole;return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("nav",{className:"channel-nav sidebar",children:[Object(w.jsx)("header",{children:t.name}),Object(w.jsxs)("div",{className:"room-list",children:["owner"===o&&Object(w.jsx)("li",{className:"room-link-item new_room-btn",children:Object(w.jsxs)("button",{className:"content",onClick:c,children:[Object(w.jsx)("img",{src:x.a,alt:"plus icon"}),Object(w.jsx)("span",{children:"Add new room"})]})}),n.map((function(e,n){return Object(w.jsx)(p.a,{cat:e,isHeader:"none"!==e,className:"category-room-wrapper",children:a.filter((function(t){return t.category===e||!t.category&&"none"===e})).map((function(e){var n,a;return!!(null===r||void 0===r||null===(n=r[t.id])||void 0===n?void 0:n[e.id])&&(a=Object.keys(r[t.id][e.id]).length),Object(w.jsx)(f.a,{channel:t,room:e,mentionCount:a},e.id)}))},n)}))]}),Object(w.jsx)(h.a,{showSettings:s})]})})},g=n(184),C=n(116),y=n(238),k=n(237),N=n(236),S=n(163),_=n(156),T=n(117),E=n(112),L=n(239);n(235),t.default=function(e){var t=e.finishLoading,n=e.setError,a=Object(i.useContext)(l.a),h=a.user,p=a.channelList,f=Object(o.g)(),x=f.channelID,M=f.roomID,R=Object(i.useState)({id:x}),V=Object(r.a)(R,2),A=V[0],U=V[1],F=Object(i.useState)({id:M}),P=Object(r.a)(F,2),D=P[0],I=P[1],J=Object(i.useCallback)((function(e,t){return U({name:e,icon:t,id:x})}),[x]),X=Object(j.a)(h,x,p,J,n),q=X.visitingChannel,B=X.roleList,H=X.roomCategories,z=X.roomList,G=X.userList,K=X.onlineUsers,Q=X.userRole,W=Object(i.useCallback)((function(e){return I({name:e,id:M})}),[M]),Y=Object(b.a)(h,x,M,W,t,n),Z=Y.msgList,$=Y.submitMsg,ee=Object(i.useState)(!1),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],se=Object(i.useState)(!1),ce=Object(r.a)(se,2),re=ce[0],ie=ce[1],oe=Object(i.useCallback)((function(){return ne||re?re?ie(!1):void 0:ae(!0)}),[ne,re]),le=Object(i.useCallback)((function(){return ne?ae(!1):re?void 0:ie(!0)}),[ne,re]),ue=Object(u.a)(le,oe),je=ue.handleTouchStart,be=ue.handleTouchMove,de=ue.handleTouchEnd,me=Object(i.useState)(!1),Oe=Object(r.a)(me,2),he=Oe[0],pe=Oe[1],fe=Object(i.useState)(!1),xe=Object(r.a)(fe,2),we=xe[0],ve=xe[1],ge=Object(i.useState)(!1),Ce=Object(r.a)(ge,2),ye=Ce[0],ke=Ce[1],Ne=Object(m.a)(),Se=Ne.inputValues,_e=Ne.handleChange,Te=Ne.resetInputValues;function Ee(){return(Ee=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.c)(A.id,Se.room_name,Se.room_category||null);case 2:if(-1!==H.indexOf(Se.room_category)){e.next=5;break}return e.next=5,Object(O.d)(A.id,Se.room_category);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Le=Object(i.useState)(),Me=Object(r.a)(Le,2),Re=Me[0],Ve=Me[1];return Object(w.jsxs)(d.a.Provider,{value:{userRole:Q},children:[Re&&Object(w.jsx)(L.a,{room:Re,close:function(){return Ve()}}),ye&&Object(w.jsx)(T.a,{close:function(){ke(!1),Te()},children:Object(w.jsx)(E.a,{close:function(){ke(!1),Te()},handleChange:_e,className:"settings-popup",title:"Create a new room",fields:[{label:"Room Name",name:"room_name",type:"text"},{label:"Room Category",name:"room_category",type:"text"}],submitAction:function(){return Ee.apply(this,arguments)},setError:n,inputValues:Se})}),we&&Object(w.jsx)(_.a,{isMobile:!0,close:function(){return ve(!1)}}),he?Object(w.jsx)(g.a,{close:function(){return pe(!1)}}):Object(w.jsxs)("div",{className:"channel-view",onTouchStart:je,onTouchMove:be,onTouchEnd:de,children:[A&&Object(w.jsxs)(C.a,{isVisible:ne,isLeft:!0,hide:function(){return ae(!1)},children:[Object(w.jsx)(S.a,{visitingChannel:q,beginCreateChannel:function(){return ve(!0)},isCreateChannel:we}),Object(w.jsx)(v,{channel:A,categories:H,list:z,setRoom:I,currentRoom:D,showUserSettings:function(){pe(!0)},showCreateRoom:function(){ke(!0)}})]}),D&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"content",children:[Object(w.jsx)(k.a,{room:D,isMobile:!0,showUserList:function(){return ie(!0)},showNav:function(){return ae(!0)}}),Object(w.jsx)("div",{className:"chat-ctn",children:Object(w.jsx)(N.a,{room:D,msgList:Z,userList:G,submitMsg:$,isVisitor:!!q})})]}),Object(w.jsx)(C.a,{isLeft:!1,hide:function(){return ie(!1)},isVisible:re,children:Object(w.jsx)(y.a,{list:K,roles:B})})]})]})]})}}}]);
//# sourceMappingURL=9.a9f6f776.chunk.js.map