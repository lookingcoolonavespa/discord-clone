{"version":3,"sources":["firebaseStuff.js","logic/user_firebaseStuff.js","logic/contexts/ErrorContext.js","logic/formValidation.js","components/Form.js","logic/custom-hooks/useInputError.js","logic/channel_firebaseStuff.js","logic/custom-hooks/useInputValues.js","components/FlatBtn.js","logic/Import.js","logic/contexts/UserContext.js","components/Error.js","logic/custom-hooks/useSuccess.js","components/Success.js","assets/png/Waffle_Coffee_Dessert.png","components/LoadingEllipsis.js","components/LoadingScreen.js","components/Input.js","components/InputField.js","logic/custom-hooks/useMobileCheck.js","logic/room_firebaseStuff.js","assets/svg/check-line.svg","components/Login/LoginEmail.js","components/Login/LoginNewUser.js","components/Login/CreateAcc.js","components/Login/ResetPassword.js","components/Login/LoginScreen.js","App.js","logic/custom-hooks/useError.js","logic/custom-hooks/useLoginUser.js","index.js"],"names":["initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","getDatabase","storage","getStorage","generateRandomUser","setUser","rdmName","uniqueNamesGenerator","dictionaries","adjectives","colors","animals","createUser","sendPWResetEmail","email","auth","getAuth","sendPasswordResetEmail","detachListenersForUser","uid","channelListRef","ref","off","uploadAvatar","image","userAvatarRef","store","uploadBytes","getDownloadURL","avatarURL","updateUserInfo","infoType","value","channelList","user","currentUser","updateProfile","displayName","photoURL","updateUserProfileColor","updateEmail","updatePassword","length","updateObj","updateUserInfoForAllChannels","reload","color","defaultColors","Math","floor","random","userRef","update","forEach","c","id","removeUser","setError","deleteUser","set","message","password","channelID","createUserWithEmailAndPassword","userCredential","profileColor","subscribeToChannel","signIn","signInWithEmailAndPassword","role","updates","avatar","getUserInfo","setChannelList","setUserProfileColor","setMentioned","onValue","snap","updateChannelList","updateChannelListWithInfo","type","vals","v","i","data","channels","push","Promise","all","getInfoForChannelList","val","mentions","updateUserOnline","userChannelList","connectedRef","channel","userStatusRef","snapshot","onDisconnect","status","updateMentions","roomID","msgID","mentionsRef","dealWithReadMentions","isUserOnline","get","verifyPW","pw","isValid","credential","EmailAuthProvider","reauthenticateWithCredential","error","logout","signOut","ErrorContext","createContext","validateEmail","test","validatePW","confirmPW","otherPW","dynamicValidation","el","isSubmit","undefined","name","includes","pwValidation","Form","fields","inputValues","actionBtnText","noCancelBtn","cancelBtnText","textBtns","handleChange","submitAction","cleanUp","close","formRef","useRef","inputNames","useState","reduce","acc","curr","inputError","setInputError","validateInput","pwConfirm","validationStatus","prev","e","preventDefault","elements","target","errors","fname","currEl","namedItem","submitForm","useInputError","map","f","loading","setLoading","isMounted","useEffect","current","autoComplete","onSubmit","className","hidden","idx","options","o","display","InputField","autoFocus","onBlur","currentTarget","label","onChange","FlatBtn","text","isUnderline","onClick","b","createChannel","isPublic","icon","newChannelRef","changeChannelIcon","key","iconURL","description","createRoom","searchPublicChannels","searchVal","query","orderByChild","startAt","processed","Object","keys","getPublicChannels","limitToFirst","orderByKey","startAfter","endBefore","limitToLast","channelIconRef","imageURL","detachListenersForChannel","channelInfoRef","getChannelInfo","updateChannel","setRoomCategories","setRoomList","setUserRoles","setUserList","setOnlineUsers","channelRef","roomCategories","room_categories","roomListArr","pushToRoomListArr","rooms","userRoles","user_roles","userList","userInfo","pushToUserListArr","users","onlineUsers","filter","category","channelRoomListRef","newRoomRef","infoRef","Error","resultArr","result","getInfoForVisitingChannel","createRoomCategory","channelRoomCategoriesRef","updateCategoryOfRoom","channelRoomRef","updateRoomName","createUserRole","channelUserRolesRef","beginUpload","file","storageRef","uploadBytesResumable","listenToUploadProgress","task","setProgress","on","progress","round","bytesTransferred","totalBytes","useInputValues","init","setInputValues","resetInputValues","Import","isMobile","mobile","desktop","children","Component","setComponent","importCallback","componentDetails","default","UserContext","errorMsg","ReactDOM","createPortal","document","querySelector","useSuccess","success","setSuccess","setTimeout","Success","src","checkSVG","alt","LoadingEllipsis","size","LoadingScreen","Input","props","inputProps","useMobileCheck","window","innerWidth","windowWidth","setWindowWidth","isMobileCheck","handleWindowResize","addEventListener","removeEventListener","detachListenersForRoom","roomRef","getRoomStuff","setRoomName","setMsgList","finishLoading","updateMsgList","changeReplyFromIDtoMsgObj","arr","obj","thisArr","replyTo","find","msgObj","msgId","messages","msgList","pushToMsgList","roomId","roomMsgList","newMsgRef","LoginEmail","onRegister","onForgotPW","useContext","history","useHistory","pushWelcomeMsg","msg","timestamp","getUnixTime","Date","range","offset","LoginNewUser","onContinue","onReturningUser","CreateAcc","newUserInfo","goBack","username","ResetPassword","setEmail","LoginScreen","node","setNode","useParams","goHome","loginArtwork","App","useError","mentioned","location","useLocation","onAuthStateChanged","currUser","replace","pathname","defaultRoomID","defaultRoom","useLoginUser","useCallback","Provider","path","Explore","ChannelView","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d4849a4f.chunk.js","sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getDatabase } from 'firebase/database';\nimport { getStorage } from 'firebase/storage';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyC8GZMfCxqOUIFsa2OYlXcMzfQKfAobukQ',\n\n  authDomain: 'bread-8adf4.firebaseapp.com',\n\n  databaseURL: 'https://bread-8adf4-default-rtdb.firebaseio.com',\n\n  projectId: 'bread-8adf4',\n\n  storageBucket: 'bread-8adf4.appspot.com',\n\n  messagingSenderId: '163895954776',\n\n  appId: '1:163895954776:web:81bdb5187f320d28a4692d',\n};\n\ninitializeApp(firebaseConfig);\nconst db = getDatabase();\nconst storage = getStorage();\n\nexport { db, storage };\n","import {\n  ref,\n  set,\n  get,\n  update,\n  onValue,\n  off,\n  onDisconnect,\n} from 'firebase/database';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  updateProfile,\n  updateEmail,\n  updatePassword,\n  deleteUser,\n  signInWithEmailAndPassword,\n  sendPasswordResetEmail,\n  reauthenticateWithCredential,\n  EmailAuthProvider,\n  reload,\n  signOut,\n} from 'firebase/auth';\nimport {\n  ref as store,\n  uploadBytes,\n  getDownloadURL,\n} from 'firebase/storage';\nimport { getInfoForChannelList } from './channel_firebaseStuff';\nimport { db, storage } from '../firebaseStuff';\nimport {\n  uniqueNamesGenerator,\n  adjectives,\n  colors,\n  animals,\n} from 'unique-names-generator';\n\nasync function generateRandomUser(setUser) {\n  const rdmName = uniqueNamesGenerator({\n    dictionaries: [adjectives, colors, animals],\n  });\n  return await createUser(\n    `${rdmName}@email.com`,\n    rdmName,\n    rdmName,\n    null,\n    setUser,\n  );\n}\n\nfunction sendPWResetEmail(email) {\n  const auth = getAuth();\n  sendPasswordResetEmail(auth, email);\n}\n\nfunction detachListenersForUser(uid) {\n  const channelListRef = ref(db, `users/${uid}/channels`);\n\n  off(channelListRef);\n}\n\nasync function uploadAvatar(uid, image) {\n  const userAvatarRef = store(storage, `user_avatars/${uid}`);\n  await uploadBytes(userAvatarRef, image);\n  const avatarURL = await getDownloadURL(userAvatarRef);\n  return avatarURL;\n}\n\nasync function updateUserInfo(infoType, value, setUser, channelList) {\n  const auth = getAuth();\n  const user = auth.currentUser;\n\n  switch (infoType) {\n    case 'displayName': {\n      await updateProfile(user, { displayName: value });\n      break;\n    }\n    case 'avatar': {\n      await updateProfile(user, { photoURL: value });\n      break;\n    }\n    case 'color': {\n      await updateUserProfileColor(user.uid, value);\n      break;\n    }\n    case 'email': {\n      await updateEmail(user, value);\n      break;\n    }\n    case 'password': {\n      await updatePassword(user, value);\n      break;\n    }\n    default: {\n      return;\n    }\n  }\n  if (channelList && channelList.length > 0) {\n    const updateObj = { [infoType]: value };\n    updateUserInfoForAllChannels(user.uid, channelList, updateObj);\n  }\n\n  await reload(user);\n  setUser(user);\n}\nfunction updateUserProfileColor(uid, color) {\n  const defaultColors = [\n    'rgb(92, 100, 244)',\n    'rgb(237, 66, 69)',\n    'rgb(250, 166, 26)',\n  ];\n  color =\n    color ||\n    defaultColors[Math.floor(Math.random() * defaultColors.length)];\n\n  const userRef = ref(db, `users/${uid}`);\n  update(userRef, { color });\n\n  return color;\n}\nfunction updateUserInfoForAllChannels(uid, channelList, updateObj) {\n  channelList.forEach(async (c) => {\n    await update(ref(db, `Channels/${c.id}/users/${uid}`), updateObj);\n  });\n}\nasync function removeUser(channelList, setError) {\n  const auth = getAuth();\n  const user = auth.currentUser;\n  try {\n    await deleteUser(user);\n    set(ref(db, `users/${user.uid}`), null);\n    updateUserInfoForAllChannels(user.uid, channelList, null);\n  } catch (error) {\n    setError && setError(error.message);\n  }\n}\n\nasync function createUser(\n  email,\n  password,\n  displayName,\n  channelID,\n  setUser,\n) {\n  const auth = getAuth();\n  const userCredential = await createUserWithEmailAndPassword(\n    auth,\n    email,\n    password,\n  );\n  await updateProfile(userCredential.user, { displayName });\n  const profileColor = await updateUserProfileColor(\n    userCredential.user.uid,\n  );\n  userCredential.user.color = profileColor;\n\n  if (channelID) subscribeToChannel(userCredential.user, channelID);\n\n  setUser && setUser(userCredential.user);\n\n  return userCredential.user;\n}\n\nasync function signIn(email, password) {\n  const auth = getAuth();\n  await signInWithEmailAndPassword(auth, email, password);\n}\n\nasync function subscribeToChannel(user, channelID, role) {\n  const updates = {};\n  updates[`users/${user.uid}/channels/${channelID}`] = ``;\n\n  updates[`Channels/${channelID}/users/${user.uid}`] = {\n    role: role || null,\n    displayName: user.displayName,\n    avatar: user.photoURL || '',\n    color: user.color,\n  };\n\n  await update(ref(db), updates);\n}\n\nasync function getUserInfo(\n  uid,\n  setChannelList,\n  setUserProfileColor,\n  setMentioned,\n) {\n  if (!uid) return;\n\n  const userRef = ref(db, `users/${uid}/`);\n  onValue(userRef, async (snap) => {\n    const data = snap.val();\n    if (!data) return;\n    setUserProfileColor(data.color);\n    updateChannelList();\n    setMentioned(data.mentions);\n    // helper\n    async function updateChannelList() {\n      const channelList = [];\n      for (const id in data.channels) {\n        channelList.push({ id, role: data.channels[id] });\n      }\n      await Promise.all([\n        getInfoForChannelList(\n          'icon',\n          channelList,\n          updateChannelListWithInfo,\n        ),\n        getInfoForChannelList(\n          'name',\n          channelList,\n          updateChannelListWithInfo,\n        ),\n        getInfoForChannelList(\n          'defaultRoom',\n          channelList,\n          updateChannelListWithInfo,\n        ),\n      ]);\n      setChannelList(channelList);\n\n      // helpers\n      function updateChannelListWithInfo(type, vals) {\n        vals.forEach((v, i) => (channelList[i][type] = v));\n      }\n    }\n  });\n}\n\nfunction updateUserOnline(uid, userChannelList) {\n  const connectedRef = ref(db, '.info/connected');\n  // add user to online_users for all channels in their list\n  userChannelList.forEach((channel) => {\n    const userStatusRef = ref(\n      db,\n      `Channels/${channel.id}/users/${uid}`,\n    );\n\n    onValue(connectedRef, async (snapshot) => {\n      if (snapshot.val() === false) {\n        off(connectedRef);\n        detachListenersForUser(uid);\n      }\n\n      await onDisconnect(userStatusRef).update({ status: 'offline' });\n\n      update(userStatusRef, {\n        status: 'online',\n      });\n    });\n  });\n}\n\nasync function updateMentions(uid, channelID, roomID, msgID) {\n  const mentionsRef = ref(\n    db,\n    `users/${uid}/mentions/${channelID}/${roomID}/${msgID}`,\n  );\n  await set(mentionsRef, true);\n}\n\nasync function dealWithReadMentions(uid, channelID, roomID) {\n  const mentionsRef = ref(\n    db,\n    `users/${uid}/mentions/${channelID}/${roomID}`,\n  );\n  await set(mentionsRef, null);\n}\n\nfunction isUserOnline(uid) {\n  const userRef = ref(db, `users/${uid}/isOnline`);\n\n  return get(userRef);\n}\n\nasync function verifyPW(pw) {\n  const auth = getAuth();\n  const user = auth.currentUser;\n  if (!user) return { isValid: true };\n  try {\n    const credential = EmailAuthProvider.credential(user.email, pw);\n\n    const status = await reauthenticateWithCredential(\n      user,\n      credential,\n    );\n    if (status) return { isValid: true };\n    return { error: 'something went wrong' };\n  } catch (error) {\n    return { error: error.message };\n  }\n}\n\nasync function logout() {\n  const auth = getAuth();\n  signOut(auth);\n}\n\nexport {\n  uploadAvatar,\n  sendPWResetEmail,\n  updateUserInfoForAllChannels,\n  updateUserProfileColor,\n  updateUserInfo,\n  getUserInfo,\n  createUser,\n  signIn,\n  isUserOnline,\n  dealWithReadMentions,\n  subscribeToChannel,\n  updateUserOnline,\n  updateMentions,\n  detachListenersForUser,\n  verifyPW,\n  removeUser,\n  logout,\n  generateRandomUser,\n};\n","import { createContext } from 'react';\n\nexport const ErrorContext = createContext(null);\n","import { verifyPW } from './user_firebaseStuff';\n\nfunction validateEmail(email) {\n  const regX = /\\S+@\\S+\\.\\S+/;\n  return regX.test(email)\n    ? { isValid: true }\n    : { error: 'Not a valid email' };\n}\n\nfunction validatePW(pw) {\n  // if (!/[A-Z]/.test(pw))\n  //   return {\n  //     isValid: false,\n  //     error: 'Must include uppercase',\n  //   };\n  // if (!/[a-z]/.test(pw))\n  //   return {\n  //     isValid: false,\n  //     error: 'Must include lowercase',\n  //   };\n  // if (!/[0-9]/.test(pw))\n  //   return {\n  //     isValid: false,\n  //     error: 'Must include a number',\n  //   };\n  // if (!/[^A-Za-z0-9]/.test(pw))\n  //   return {\n  //     isValid: false,\n  //     error: 'Must include special character',\n  //   };\n  if (pw.length < 6)\n    return {\n      isValid: false,\n      error: 'Must be 6 or more in length',\n    };\n\n  return { isValid: true };\n}\n\nfunction confirmPW(pw, otherPW) {\n  return pw === otherPW\n    ? { isValid: true }\n    : { error: \"Passwords don't match\" };\n}\n\nfunction dynamicValidation(\n  el,\n  isSubmit = false,\n  otherPW = undefined,\n) {\n  switch (true) {\n    case el.name.includes('username'): {\n      return el.value.length > 0\n        ? { isValid: true }\n        : { error: 'username is empty' };\n    }\n    case el.name.includes('room_name'): {\n      return el.value.length > 0\n        ? { isValid: true }\n        : { error: 'room name is empty' };\n    }\n    case el.name.includes('email'): {\n      return validateEmail(el.value);\n    }\n\n    case el.name.includes('password'): {\n      const pwValidation = validatePW(el.value);\n      if (pwValidation.error) return pwValidation;\n\n      if (el.name === 'confirm_password')\n        return confirmPW(el.value, otherPW);\n      if (\n        (el.name === 'current_password' || el.name === 'password') &&\n        isSubmit\n      )\n        return verifyPW(el.value); // this returns a promise\n      return { isValid: true };\n    }\n\n    default:\n      return { isValid: true };\n  }\n}\n\nexport { dynamicValidation, validateEmail, validatePW, confirmPW };\n","import React, { useRef, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport useInputError from '../logic/custom-hooks/useInputError';\n\nimport InputField from './InputField';\nimport FlatBtn from './FlatBtn';\n\nconst Form = ({\n  fields,\n  inputValues,\n  actionBtnText,\n  noCancelBtn,\n  cancelBtnText,\n  textBtns,\n  handleChange,\n  submitAction,\n  cleanUp,\n  close,\n  setError,\n}) => {\n  const formRef = useRef();\n  const fieldNames = fields.map((f) => f.name);\n  const { inputError, validateInput, submitForm } =\n    useInputError(fieldNames);\n  const [loading, setLoading] = useState(false);\n\n  const isMounted = useRef(false);\n  useEffect(() => {\n    isMounted.current = true;\n    return () => (isMounted.current = false);\n  }, []);\n\n  return (\n    <form\n      ref={formRef}\n      autoComplete=\"nope\"\n      onSubmit={async (e) => {\n        setLoading(true);\n        cleanUp = cleanUp || close;\n        await submitForm(e, submitAction, cleanUp, setError);\n        if (isMounted.current) setLoading(false);\n      }}\n    >\n      <div className=\"content\">\n        <input type=\"password\" hidden />\n        {/* need this to turn off autocomplete */}\n        {fields.map((f, idx) => {\n          if (f.type === 'dropdown') {\n            return (\n              <select name={f.name}>\n                {f.options.map((o) => (\n                  <option key={o.value} value={o.value}>\n                    {o.display}\n                  </option>\n                ))}\n              </select>\n            );\n          }\n          return (\n            <InputField\n              key={idx}\n              type={f.type}\n              autoFocus={idx === 0}\n              onBlur={(e) => validateInput(e.currentTarget)}\n              error={inputError[f.name]}\n              label={f.label}\n              name={f.name}\n              onChange={handleChange}\n              value={inputValues[f.name] || ''}\n            />\n          );\n        })}\n      </div>\n      <footer>\n        <div\n          className={\n            loading ? 'btn-ctn no-pointer-events' : 'btn-ctn'\n          }\n        >\n          {!noCancelBtn && (\n            <FlatBtn\n              text={cancelBtnText || 'Cancel'}\n              isUnderline={true}\n              onClick={close}\n            />\n          )}\n          <FlatBtn\n            type=\"submit\"\n            text={actionBtnText || 'Done'}\n            className=\"filled small\"\n            loading={loading}\n          />\n        </div>\n        {textBtns && (\n          <div className=\"text-btn-ctn\">\n            {textBtns.map((b, i) => {\n              return (\n                <span key={i} className=\"link\" onClick={b.onClick}>\n                  {b.text}\n                </span>\n              );\n            })}\n          </div>\n        )}\n      </footer>\n    </form>\n  );\n};\n\nexport default Form;\n\nForm.propTypes = {\n  fields: PropTypes.arrayOf(PropTypes.object),\n  inputValues: PropTypes.object,\n  actionBtnText: PropTypes.string,\n  noCancelBtn: PropTypes.bool,\n  cancelBtnText: PropTypes.string,\n  textBtns: PropTypes.arrayOf(PropTypes.object),\n  handleChange: PropTypes.func,\n  submitAction: PropTypes.func,\n  cleanUp: PropTypes.func,\n  close: PropTypes.func,\n  setError: PropTypes.func,\n};\n","import { useState } from 'react';\nimport { dynamicValidation } from '../formValidation';\n\nexport default function useInputError(inputNames) {\n  const [inputError, setInputError] = useState(\n    () =>\n      inputNames.reduce((acc, curr) => {\n        acc[curr] = '';\n        return acc;\n      }, {}), // turn inputNames into object keys\n  );\n\n  async function validateInput(\n    el,\n    isSubmit = false,\n    pwConfirm = undefined,\n  ) {\n    const validationStatus = pwConfirm\n      ? await dynamicValidation(el, isSubmit, pwConfirm)\n      : await dynamicValidation(el, isSubmit); // have to await bc it might return a promise (depends on input name)\n\n    const value = validationStatus.error\n      ? validationStatus.error\n      : '';\n    setInputError((prev) => ({\n      ...prev,\n      [el.name]: value,\n    }));\n\n    return !validationStatus.error;\n  }\n\n  async function submitForm(e, submitAction, cleanUp, setError) {\n    e.preventDefault();\n\n    const {\n      target: { elements }, // destructure e to get elements\n    } = e;\n\n    try {\n      let errors = false;\n      for (const fname of inputNames) {\n        // iterate through each input field and validate\n        const currEl = elements.namedItem(fname);\n        const isValid =\n          fname === 'confirm_password'\n            ? await validateInput(\n                currEl,\n                true,\n                elements.namedItem('new_password').value,\n              )\n            : await validateInput(currEl, true);\n        if (!isValid) errors = true;\n      }\n      if (errors) return;\n\n      await submitAction();\n      cleanUp();\n    } catch (error) {\n      setError && setError(error.message);\n    }\n  }\n\n  return { inputError, validateInput, submitForm };\n}\n","import {\n  ref,\n  push,\n  set,\n  get,\n  update,\n  onValue,\n  off,\n  query,\n  orderByKey,\n  orderByChild,\n  startAt,\n  startAfter,\n  endBefore,\n  limitToFirst,\n  limitToLast,\n} from 'firebase/database';\nimport {\n  ref as store,\n  uploadBytes,\n  uploadBytesResumable,\n  getDownloadURL,\n  deleteObject,\n} from 'firebase/storage';\nimport { db, storage } from '../firebaseStuff';\nimport { isUserOnline } from './user_firebaseStuff';\n\nasync function createSampleChannels(num) {\n  for (let i = 0; i < num; i++) {\n    await createChannel(`sample channel ${i}`, true);\n  }\n}\n\nasync function createChannel(name, isPublic, icon) {\n  const channelListRef = ref(db, 'Channels');\n  const newChannelRef = push(channelListRef);\n  await set(newChannelRef, { name });\n\n  const iconURL = icon\n    ? await changeChannelIcon(newChannelRef.key, icon)\n    : '';\n  if (isPublic)\n    await set(ref(db, `public_channels/${newChannelRef.key}`), {\n      name,\n      icon: iconURL,\n      description:\n        'This is a new channel and there is no description for it at the moment.',\n    });\n  await createRoom(newChannelRef.key, 'general', null);\n  return newChannelRef.key;\n}\n\nasync function deleteChannels() {\n  const updates = {};\n\n  [\n    '-Mp9N-JNC7jgBKurBZCn',\n    '-MpYOwEQmhBEBW7zWIWL',\n    '-MqCDfO8KLUpNbHiuP9q',\n    '-MqCG7RuBJ53MGGTuu7O',\n    '-MqCGdvGmSp57SUBYdVp',\n    '-MqCGh4rVYnMIiCOeokE',\n  ].forEach((key) => {\n    updates[`public_channels/${key}`] = null;\n    updates[`Channels/${key}`] = null;\n  });\n\n  update(ref(db), updates);\n}\n\nasync function searchPublicChannels(searchVal) {\n  const snap = await get(\n    query(\n      ref(db, '/public_channels/'),\n      orderByChild('name'),\n      startAt(searchVal),\n    ),\n  );\n  const data = snap.val();\n  const processed = Object.keys(data).map((key) => ({\n    ...data[key],\n    id: key,\n  }));\n  return processed;\n}\n\nasync function getPublicChannels(status, key) {\n  let snap;\n  switch (status) {\n    case 'init':\n      snap = await get(\n        query(ref(db, `public_channels/`), limitToFirst(20)),\n      );\n      break;\n    case 'next':\n      snap = await get(\n        query(\n          ref(db, `public_channels/`),\n          orderByKey(),\n          startAfter(key),\n          limitToFirst(20),\n        ),\n      );\n      break;\n    case 'prev':\n      snap = await get(\n        query(\n          ref(db, `public_channels/`),\n          orderByKey(),\n          endBefore(key),\n          limitToLast(20),\n        ),\n      );\n      break;\n    default:\n      return;\n  }\n  const data = snap.val();\n  if (!data) return;\n  const processed = Object.keys(data).map((key) => ({\n    ...data[key],\n    id: key,\n  }));\n  return processed;\n}\n\nasync function changeChannelIcon(channelID, image) {\n  const channelIconRef = store(storage, `channel_icons/${channelID}`);\n  await uploadBytes(channelIconRef, image);\n  const imageURL = await getDownloadURL(channelIconRef);\n  await update(ref(db, `Channels/${channelID}`), { icon: imageURL });\n}\n\nfunction detachListenersForChannel(channelID, uid) {\n  const channelInfoRef = ref(db, `Channels/${channelID}`);\n\n  off(channelInfoRef);\n}\n\nasync function getChannelInfo(\n  channelID,\n  updateChannel,\n  setRoomCategories,\n  setRoomList,\n  setUserRoles,\n  setUserList,\n  setOnlineUsers,\n  setError,\n) {\n  try {\n    const channelRef = ref(db, `Channels/${channelID}`);\n    onValue(channelRef, (snap) => {\n      const data = snap.val();\n\n      updateChannel(data.name, data.icon || '');\n\n      const roomCategories = data.room_categories\n        ? Object.keys(data.room_categories)\n        : [];\n      setRoomCategories(['none', ...roomCategories]);\n\n      const roomListArr = [];\n      pushToRoomListArr(data.rooms);\n      setRoomList(roomListArr);\n\n      const userRoles = data.user_roles\n        ? Object.keys(data.user_roles)\n        : [];\n      setUserRoles([...userRoles, 'Online']);\n\n      const userList = [];\n      pushToUserListArr(data.users);\n      setUserList(userList);\n      const onlineUsers = userList.filter(\n        (user) => user.status === 'online',\n      );\n      setOnlineUsers(onlineUsers);\n\n      // helpers\n      function pushToRoomListArr(data) {\n        for (const id in data) {\n          roomListArr.push({ ...data[id], id });\n        }\n      }\n      function pushToUserListArr(data) {\n        for (const id in data) {\n          const userInfo = { ...data[id], uid: id };\n          userList.push(userInfo);\n        }\n      }\n    });\n  } catch (error) {\n    setError && setError(error.message);\n  }\n}\n\nasync function getRoomList(channelID, setRoomList, setError) {\n  try {\n    const roomListRef = ref(db, `Channels/${channelID}/rooms`);\n\n    const snap = await get(roomListRef);\n    const data = snap.val();\n\n    const roomList = [];\n    for (const id in data) {\n      roomList.push({ ...data[id], id });\n    }\n    setRoomList(roomList);\n  } catch (error) {\n    setError(error.message);\n  }\n}\n\nasync function createRoom(channelID, name, category) {\n  const channelRoomListRef = ref(db, `Channels/${channelID}/rooms`);\n  const newRoomRef = push(channelRoomListRef);\n\n  await set(newRoomRef, { name, category });\n\n  await set(ref(db, `Rooms/${newRoomRef.key}`), {\n    name,\n  });\n}\n\nasync function getInfoForChannelList(\n  type,\n  channelList,\n  updateChannelList,\n) {\n  const resultArr = await Promise.all(\n    channelList.map((channel) => {\n      let infoRef;\n      switch (type) {\n        case 'name':\n          infoRef = ref(db, `Channels/${channel.id}/name`);\n          break;\n        case 'icon':\n          infoRef = ref(db, `Channels/${channel.id}/icon`);\n          break;\n        case 'defaultRoom':\n          infoRef = query(\n            ref(db, `Channels/${channel.id}/rooms`),\n            limitToFirst(1),\n          );\n          break;\n        default:\n          throw new Error('not a valid info type');\n      }\n      return get(infoRef);\n    }),\n  );\n  updateChannelList(\n    type,\n    resultArr.map((result) => result.val()),\n  );\n}\n\nasync function getInfoForVisitingChannel(channelID) {\n  const resultArr = await Promise.all([\n    get(ref(db, `Channels/${channelID}/name`)),\n    get(ref(db, `Channels/${channelID}/icon`)),\n    get(\n      query(ref(db, `Channels/${channelID}/rooms`), limitToFirst(1)),\n    ),\n  ]);\n\n  return resultArr.map((result) => result.val());\n}\n\nasync function createRoomCategory(channelID, name) {\n  const channelRoomCategoriesRef = ref(\n    db,\n    `Channels/${channelID}/room_categories`,\n  );\n  await update(channelRoomCategoriesRef, { [name]: true });\n}\n\nasync function updateCategoryOfRoom(channelID, roomID, category) {\n  const channelRoomRef = ref(\n    db,\n    `Channels/${channelID}/rooms/${roomID}`,\n  );\n  await update(channelRoomRef, { category });\n}\n\nasync function updateRoomName(channelID, roomID, name) {\n  await update(ref(db, `Channels/${channelID}/rooms/${roomID}`), {\n    name,\n  });\n  await update(ref(db, `Rooms/${roomID}`), { name });\n}\n\nasync function deleteRoom(channelID, roomID) {\n  const updates = {};\n  updates[`Channels/${channelID}/rooms/${roomID}`] = null;\n  updates[`Rooms/${roomID}`] = null;\n  await update(ref(db), updates);\n}\n\nasync function createUserRole(channelID, role) {\n  const channelUserRolesRef = ref(\n    db,\n    `Channels/${channelID}/user_roles`,\n  );\n  update(channelUserRolesRef, { [role]: true });\n}\n\nasync function updateRoleOfUser(channelID, userId, role, setError) {\n  try {\n    const updates = {};\n    updates[`users/${userId}/channels/${channelID}`] = role;\n    if (isUserOnline(userId))\n      updates[`Channels/${channelID}/online_users/${userId}/role`] =\n        role;\n\n    update(ref(db), updates);\n  } catch (error) {\n    setError && setError(error.message);\n  }\n}\n\nfunction beginUpload(file) {\n  const storageRef = store(storage, `uploadedFiles/${file.name}`);\n  return uploadBytesResumable(storageRef, file);\n}\nfunction cancelUpload(task) {\n  if (task._state) return deleteFile(task._ref);\n  task.cancel();\n}\nfunction deleteFile(ref) {\n  deleteObject(ref);\n}\nfunction listenToUploadProgress(task, setProgress) {\n  task.on('state_changed', (snap) => {\n    const progress = Math.round(\n      (snap.bytesTransferred / snap.totalBytes) * 100,\n    );\n    setProgress(progress);\n  });\n}\nexport {\n  getInfoForVisitingChannel,\n  getPublicChannels,\n  createChannel,\n  changeChannelIcon,\n  getChannelInfo,\n  getInfoForChannelList,\n  getRoomList,\n  createRoomCategory,\n  updateCategoryOfRoom,\n  createRoom,\n  createUserRole,\n  updateRoleOfUser,\n  detachListenersForChannel,\n  deleteChannels,\n  searchPublicChannels,\n  beginUpload,\n  cancelUpload,\n  listenToUploadProgress,\n  deleteRoom,\n  updateRoomName,\n  createSampleChannels,\n};\n","import { useState } from 'react';\n\nexport default function useInputValues(init) {\n  const [inputValues, setInputValues] = useState(init || {});\n\n  function handleChange(e) {\n    setInputValues((prev) => ({\n      ...prev,\n      [e.target.name]: e.target.value,\n    }));\n  }\n\n  function resetInputValues() {\n    setInputValues({});\n  }\n\n  return {\n    inputValues,\n    setInputValues,\n    handleChange,\n    resetInputValues,\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport '../styles/FlatBtn.css';\n\nconst FlatBtn = ({ className, type, text, isUnderline, onClick }) => {\n  return (\n    <button\n      type={type || 'button'}\n      className={className ? `flat-btn ${className}` : 'flat-btn'}\n      onClick={onClick}\n    >\n      <span className={isUnderline ? 'underline-hover' : null}>\n        {text}\n      </span>\n    </button>\n  );\n};\n\nexport default FlatBtn;\n\nFlatBtn.propTypes = {\n  className: PropTypes.string,\n  type: PropTypes.string,\n  text: PropTypes.string,\n  isUnderline: PropTypes.bool,\n  loading: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n","import { useState, useEffect } from 'react';\n\nconst Import = ({ isMobile, mobile, desktop, children }) => {\n  const [Component, setComponent] = useState();\n\n  useEffect(() => {\n    const importCallback = isMobile ? mobile : desktop;\n\n    if (importCallback) {\n      (async () => {\n        const componentDetails = await importCallback();\n        setComponent(componentDetails);\n      })();\n    }\n  }, [mobile, desktop, isMobile]);\n\n  return children(Component ? Component.default : () => null);\n};\n\nexport default Import;\n","import { createContext } from 'react';\n\nexport const UserContext = createContext(null);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport '../styles/Error.css';\n\nconst Error = ({ errorMsg }) => {\n  return ReactDOM.createPortal(\n    <div id=\"error-popup\">\n      <p className=\"error-msg\">\n        <i className=\"ri-close-fill\"></i> {errorMsg}\n      </p>\n    </div>,\n    document.querySelector('body'),\n  );\n};\n\nexport default Error;\n\nError.propTypes = {\n  errorMsg: PropTypes.string,\n};\n","import { useState, useEffect } from 'react';\n\nexport default function useSuccess(isMounted) {\n  const [success, setSuccess] = useState(false);\n  useEffect(() => {\n    if (success)\n      setTimeout(() => {\n        if (isMounted.current) setSuccess(false);\n      }, 3500);\n  });\n\n  return {\n    success,\n    setSuccess,\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport checkSVG from '../assets/svg/check-line.svg';\n\nimport '../styles/Success.css';\n\nconst Success = ({ text }) => {\n  return ReactDOM.createPortal(\n    <div id=\"success-popup\">\n      <div className=\"svg-wrapper\">\n        <img src={checkSVG} alt=\"success\" />\n      </div>\n      <div className=\"success-msg\">{text}</div>\n    </div>,\n    document.querySelector('body'),\n  );\n};\n\nexport default Success;\n\nSuccess.propTypes = {\n  text: PropTypes.string,\n};\n","export default __webpack_public_path__ + \"static/media/Waffle_Coffee_Dessert.2e7ce93e.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport '../styles/LoadingEllipsis.css';\n\nconst LoadingEllipsis = ({ size }) => {\n  return (\n    <div className={size ? `lds-ellipsis ${size}` : 'lds-ellipsis'}>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n};\n\nexport default LoadingEllipsis;\n\nLoadingEllipsis.propTypes = {\n  size: PropTypes.string,\n};\n","import React from 'react';\nimport LoadingEllipsis from './LoadingEllipsis';\n\nimport '../styles/LoadingScreen.css';\n\nconst LoadingScreen = () => {\n  return (\n    <div className=\"loading-screen\">\n      <LoadingEllipsis />\n    </div>\n  );\n};\n\nexport default LoadingScreen;\n","import React from 'react';\n\nconst Input = ({ ...props }) => {\n  return <input {...props} />;\n};\n\nexport default Input;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Input from './Input.js';\n\nconst InputField = ({ label, error, ...inputProps }) => {\n  return (\n    <div className={error ? 'error input-wrapper' : 'input-wrapper'}>\n      {label && (\n        <label>\n          <span className=\"caps-title\">{label}</span>\n          {error && <span className=\"error-msg\"> - {error}</span>}\n        </label>\n      )}\n      <Input {...inputProps} />\n    </div>\n  );\n};\n\nexport default InputField;\n\nInputField.propTypes = {\n  label: PropTypes.string,\n  error: PropTypes.string,\n};\n","import { useState, useEffect, useRef } from 'react';\n\nexport default function useMobileCheck() {\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n  const isMobileCheck = useRef(window.innerWidth <= 768);\n\n  function handleWindowResize() {\n    setWindowWidth(window.innerWidth);\n    isMobileCheck.current = windowWidth <= 768;\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', handleWindowResize);\n    return () =>\n      window.removeEventListener('resize', handleWindowResize);\n  });\n\n  return { isMobileCheck };\n}\n","import { ref, push, set, onValue, off } from 'firebase/database';\nimport { db } from '../firebaseStuff';\n\nfunction detachListenersForRoom(roomID) {\n  const roomRef = ref(db, `Rooms/${roomID}`);\n\n  off(roomRef);\n}\n\nasync function getRoomStuff(\n  roomID,\n  setRoomName,\n  setMsgList,\n  finishLoading,\n) {\n  const roomRef = ref(db, `Rooms/${roomID}`);\n\n  onValue(roomRef, async (snap) => {\n    const data = snap.val();\n\n    await setRoomName(data.name);\n\n    const messages = data.messages || {};\n    const msgList = [];\n    updateMsgList();\n    await setMsgList(changeReplyFromIDtoMsgObj(msgList));\n    finishLoading && finishLoading();\n    // helpers\n    function updateMsgList() {\n      for (const id in messages) {\n        messages[id].msgId = id; // set msgId\n        msgList.push(messages[id]);\n      }\n    }\n    function changeReplyFromIDtoMsgObj(arr) {\n      // if msg has replyTo, replace the msgId with actual msgObj\n      return arr.map((obj, i, thisArr) => {\n        if (!obj.replyTo) return obj;\n\n        obj.replyTo = thisArr.find(\n          (msgObj) => msgObj.msgId === obj.replyTo,\n        );\n        return obj;\n      });\n    }\n  });\n}\n\nasync function pushToMsgList(roomId, msgObj) {\n  const roomMsgList = ref(db, `Rooms/${roomId}/messages`);\n  const newMsgRef = push(roomMsgList);\n  set(newMsgRef, msgObj);\n\n  return newMsgRef.key;\n}\n\nexport { detachListenersForRoom, getRoomStuff, pushToMsgList };\n","export default __webpack_public_path__ + \"static/media/check-line.3f29db89.svg\";","import React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport {\n  generateRandomUser,\n  signIn,\n  subscribeToChannel,\n  updateMentions,\n} from '../../logic/user_firebaseStuff';\nimport { ErrorContext } from '../../logic/contexts/ErrorContext';\nimport useInputValues from '../../logic/custom-hooks/useInputValues';\nimport { getUnixTime } from 'date-fns';\n\nimport Form from '../Form';\nimport { pushToMsgList } from '../../logic/room_firebaseStuff';\n\nconst LoginEmail = ({\n  onRegister,\n  onForgotPW,\n  setUser,\n  setLoading,\n}) => {\n  const { inputValues, handleChange } = useInputValues();\n  const { setError } = useContext(ErrorContext);\n\n  const history = useHistory();\n\n  async function onCreateTestAcc() {\n    try {\n      setLoading(true);\n      const user = await generateRandomUser(setUser);\n      await Promise.all([\n        subscribeToChannel(user, '-MqVZFTJg485ZZ2TUtZ0'),\n        subscribeToChannel(user, '-MqVZFTPYJZ5kNMBKROY'),\n        subscribeToChannel(user, '-MqVZFTRVp_uIzlJVmOp'),\n        subscribeToChannel(user, '-MqVZFTShVKjPVWc-jyE'),\n        pushWelcomeMsg(),\n      ]);\n      setLoading(false);\n      // helper\n      async function pushWelcomeMsg() {\n        const msgID = await pushToMsgList('-MqVZG54pnPMmqDjLVRc', {\n          msg: 'Hello there! undefined',\n          user: '1',\n          timestamp: getUnixTime(new Date()),\n          mentions: [\n            {\n              uid: `${user.uid}`,\n              range: {\n                offset: 13,\n                length: 9,\n                key: 0,\n              },\n            },\n          ],\n        });\n        await updateMentions(\n          user.uid,\n          '-MqVZFTShVKjPVWc-jyE',\n          '-MqVZG54pnPMmqDjLVRc',\n          msgID,\n        );\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n  }\n\n  return (\n    <div className=\"login login-email\">\n      <header>\n        <h3>Welcome to bread!</h3>\n        <h4>a discord clone</h4>\n      </header>\n      <Form\n        fields={[\n          { label: 'Email', type: 'email', name: 'email' },\n          { label: 'Password', type: 'password', name: 'password' },\n        ]}\n        noCancelBtn={true}\n        textBtns={[\n          { text: 'Forgot your password?', onClick: onForgotPW },\n          { text: 'Need an account? Register', onClick: onRegister },\n          {\n            text: 'Generate account to test',\n            onClick: onCreateTestAcc,\n          },\n        ]}\n        handleChange={handleChange}\n        submitAction={() =>\n          signIn(inputValues.email, inputValues.password)\n        }\n        setError={setError}\n        cleanUp={() => history.push('/')}\n        inputValues={inputValues}\n      />\n    </div>\n  );\n};\n\nexport default LoginEmail;\n\nLoginEmail.propTypes = {\n  onRegister: PropTypes.func,\n  onForgotPW: PropTypes.func,\n  setUser: PropTypes.func,\n  setLoading: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Form from '../Form';\n\nconst LoginNewUser = ({\n  channel,\n  handleChange,\n  onContinue,\n  onReturningUser,\n  close,\n  inputValues,\n}) => {\n  return (\n    <div className=\"login new-user-username\">\n      {channel ? (\n        <header>\n          <h4>You are invited to join</h4>\n          <h2>{channel.name}</h2>\n        </header>\n      ) : (\n        <header>\n          <h3>Create an account</h3>\n        </header>\n      )}\n      <Form\n        fields={[\n          { type: 'text', name: 'username', label: 'username' },\n        ]}\n        actionBtnText=\"Continue\"\n        textBtns={[\n          {\n            text: 'Already have an account?',\n            onClick: onReturningUser,\n          },\n        ]}\n        handleChange={handleChange}\n        submitAction={onContinue}\n        cleanUp={() => 'do nothing'}\n        close={close}\n        inputValues={inputValues}\n      />\n    </div>\n  );\n};\n\nexport default LoginNewUser;\n\nLoginNewUser.propTypes = {\n  channel: PropTypes.objectOf(PropTypes.string),\n  handleChange: PropTypes.func,\n  onContinue: PropTypes.func,\n  onReturningUser: PropTypes.func,\n  close: PropTypes.func,\n  inputValues: PropTypes.object,\n};\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router';\nimport { ErrorContext } from '../../logic/contexts/ErrorContext';\n\nimport { createUser } from '../../logic/user_firebaseStuff';\n\nimport Form from '../Form';\n\nconst CreateAcc = ({\n  newUserInfo,\n  handleChange,\n  channel,\n  setUser,\n  goBack,\n  inputValues,\n}) => {\n  const history = useHistory();\n  const { setError } = useContext(ErrorContext);\n\n  return (\n    <div className=\"login create-acc\">\n      <header>\n        <h3>Just one more step...</h3>\n      </header>\n      <Form\n        fields={[\n          { type: 'email', label: 'Email', name: 'email' },\n          { type: 'password', label: 'Password', name: 'password' },\n        ]}\n        actionBtnText={'Create Account'}\n        cancelBtnText={'Go Back'}\n        close={goBack}\n        handleChange={handleChange}\n        submitAction={() =>\n          createUser(\n            newUserInfo.email,\n            newUserInfo.password,\n            newUserInfo.username,\n            channel || null,\n            setUser,\n          )\n        }\n        cleanUp={() => {\n          if (channel) history.push(`/channels/${channel}`);\n        }}\n        setError={setError}\n        inputValues={inputValues}\n      />\n    </div>\n  );\n};\n\nexport default CreateAcc;\n\nCreateAcc.propTypes = {\n  newUserInfo: PropTypes.objectOf(PropTypes.string),\n  handleChange: PropTypes.func,\n  channel: PropTypes.string,\n  setUser: PropTypes.func,\n  goBack: PropTypes.func,\n  inputValues: PropTypes.object,\n};\n","import React, {\n  useContext,\n  useRef,\n  useEffect,\n  useState,\n} from 'react';\nimport PropTypes from 'prop-types';\n\nimport { ErrorContext } from '../../logic/contexts/ErrorContext';\nimport useSuccess from '../../logic/custom-hooks/useSuccess';\n\nimport { sendPWResetEmail } from '../../logic/user_firebaseStuff';\n\nimport Form from '../Form';\nimport Success from '../Success';\n\nconst ResetPassword = ({ close }) => {\n  const [email, setEmail] = useState();\n  const { setError } = useContext(ErrorContext);\n\n  const isMounted = useRef(false);\n  useEffect(() => {\n    isMounted.current = true;\n    return () => (isMounted.current = false);\n  });\n  const { success, setSuccess } = useSuccess();\n\n  return (\n    <>\n      {success && <Success text={'Password reset email sent'} />}\n      <div className=\"login reset-password\">\n        <header>\n          <h3>Reset your password</h3>\n        </header>\n        <Form\n          fields={[{ type: 'email', name: 'email', label: 'Email' }]}\n          actionBtnText=\"Send email\"\n          submitAction={() => sendPWResetEmail(email)}\n          setError={setError}\n          handleChange={(e) => setEmail(e.target.value)}\n          cleanUp={() => setSuccess(true)}\n          close={close}\n          inputValues={{ email }}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default ResetPassword;\n\nResetPassword.propTypes = {\n  close: PropTypes.func,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport useInputValues from '../../logic/custom-hooks/useInputValues';\n\nimport LoginEmail from './LoginEmail';\n\nimport LoginNewUser from './LoginNewUser';\nimport CreateAcc from './CreateAcc';\nimport { useParams } from 'react-router';\nimport ResetPassword from './ResetPassword';\n\nimport loginArtwork from '../../assets/png/Waffle_Coffee_Dessert.png';\n\nimport '../../styles/LoginScreen.css';\n\nconst LoginScreen = ({ setUser, isMobile, setLoading }) => {\n  const [node, setNode] = useState('returning user');\n  const { inputValues: newUserInfo, handleChange } = useInputValues();\n  const { channelID: channel } = useParams();\n\n  function goHome() {\n    setNode('returning user');\n  }\n  return (\n    <div className=\"login-screen\">\n      <div className=\"login-formWrapper\">\n        {\n          {\n            'returning user': (\n              <LoginEmail\n                onRegister={() => setNode('new user')}\n                onForgotPW={() => setNode('reset pw')}\n                setUser={setUser}\n                setLoading={setLoading}\n              />\n            ),\n            'new user': (\n              <LoginNewUser\n                channel={channel}\n                onContinue={() => setNode('create acc')}\n                onReturningUser={() => setNode('returning user')}\n                handleChange={handleChange}\n                close={goHome}\n                inputValues={newUserInfo}\n              />\n            ),\n            'create acc': (\n              <CreateAcc\n                newUserInfo={newUserInfo}\n                goBack={() => setNode('new user')}\n                handleChange={handleChange}\n                channel={channel}\n                setUser={setUser}\n                inputValues={newUserInfo}\n              />\n            ),\n            'reset pw': <ResetPassword close={goHome} />,\n          }[node]\n        }\n      </div>\n      {!isMobile && (\n        <div className=\"login-artwork-wrapper\">\n          <div className=\"artwork\">\n            <img\n              src={loginArtwork}\n              alt=\"illustration of bread and coffee\"\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LoginScreen;\n\nLoginScreen.propTypes = {\n  setUser: PropTypes.func,\n  isMobile: PropTypes.bool,\n  setLoading: PropTypes.func,\n};\n","import React, { useState, useCallback } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport useError from './logic/custom-hooks/useError';\nimport useLoginUser from './logic/custom-hooks/useLoginUser';\nimport { UserContext } from './logic/contexts/UserContext';\nimport { ErrorContext } from './logic/contexts/ErrorContext';\nimport useMobileCheck from './logic/custom-hooks/useMobileCheck';\nimport Import from './logic/Import';\nimport LoginScreen from './components/Login/LoginScreen';\nimport Error from './components/Error';\nimport LoadingScreen from './components/LoadingScreen';\n\nimport './globalStyles.css';\n\n// import icons\nimport './assets/font/flaticon.css';\nimport './assets/font/remixicon.css';\n\nfunction App() {\n  const { error, setError } = useError();\n  const [loading, setLoading] = useState(true);\n\n  const { user, mentioned, setUser, channelList } = useLoginUser(\n    setLoading,\n    setError,\n  );\n  const {\n    isMobileCheck: { current: isMobile },\n  } = useMobileCheck();\n\n  const finishLoading = useCallback(() => {\n    setLoading(false);\n  }, []);\n\n  return (\n    <>\n      {error && <Error errorMsg={error} />}\n      {loading && <LoadingScreen />}\n      <ErrorContext.Provider value={{ setError }}>\n        <Route path={['/login/:channelID', '/login']}>\n          {!user && (\n            <LoginScreen\n              setUser={setUser}\n              isMobile={isMobile}\n              setLoading={setLoading}\n            />\n          )}\n        </Route>\n        {user && (\n          <>\n            <UserContext.Provider\n              value={{ user, setUser, channelList, mentioned }}\n            >\n              <div className=\"app\">\n                <Route path={'/explore'}>\n                  <Import\n                    mobile={() =>\n                      import('./components/Explore/Explore_mobile')\n                    }\n                    desktop={() =>\n                      import('./components/Explore/Explore_desktop')\n                    }\n                    isMobile={isMobile}\n                  >\n                    {(Explore) => (\n                      <Explore finishLoading={finishLoading} />\n                    )}\n                  </Import>\n                </Route>\n                <Route\n                  path={[\n                    '/channels/:channelID/:roomID',\n                    '/channels/:channelID',\n                  ]}\n                >\n                  <Import\n                    mobile={() =>\n                      import('./components/ChannelView_mobile')\n                    }\n                    desktop={() =>\n                      import('./components/ChannelView_desktop')\n                    }\n                    isMobile={isMobile}\n                  >\n                    {(ChannelView) => (\n                      <ChannelView\n                        finishLoading={finishLoading}\n                        setError={setError}\n                      />\n                    )}\n                  </Import>\n                </Route>\n              </div>\n            </UserContext.Provider>\n          </>\n        )}\n      </ErrorContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","import { useState, useEffect } from 'react';\n\nexport default function useError() {\n  const [error, setError] = useState();\n\n  useEffect(function ifError() {\n    if (error)\n      setTimeout(() => {\n        setError();\n      }, 5000);\n  });\n\n  return { error, setError };\n}\n","import { useRef, useState, useEffect } from 'react';\nimport { updateUserOnline, getUserInfo } from '../user_firebaseStuff';\nimport { getAuth, onAuthStateChanged } from 'firebase/auth';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nexport default function useLoginUser(setLoading, setError) {\n  const [user, setUser] = useState();\n  const [channelList, setChannelList] = useState();\n  const [mentioned, setMentioned] = useState();\n\n  const location = useLocation();\n  const history = useHistory();\n\n  const isMounted = useRef();\n  useEffect(() => {\n    isMounted.current = true;\n    return () => (isMounted.current = false);\n  });\n\n  useEffect(\n    function getCurrentUser() {\n      const auth = getAuth();\n      onAuthStateChanged(auth, async (currUser) => {\n        if (!isMounted.current) return;\n        if (!currUser) {\n          // on logout stuff\n          setUser(currUser);\n          setChannelList();\n          setLoading(false);\n          history.replace('/login');\n          return;\n        }\n\n        if (currUser) {\n          try {\n            await getUserInfo(\n              currUser.uid,\n              setChannelList,\n              function getUserColor(val) {\n                currUser.color = val;\n              },\n              setMentioned,\n            );\n            setUser(currUser);\n          } catch (error) {\n            setError(error.message);\n          }\n        }\n      });\n    },\n    [history, location.pathname, setLoading, setUser, setError],\n  );\n\n  useEffect(\n    function afterSetChannelList() {\n      if (!user || !channelList) return;\n      if (location.pathname === '/' || location.pathname === '/login')\n        if (channelList[0]) {\n          const defaultRoomID = Object.keys(\n            channelList[0].defaultRoom,\n          )[0];\n          history.replace(\n            `channels/${channelList[0].id}/${defaultRoomID}`,\n          );\n        } else {\n          history.replace('explore');\n        }\n\n      try {\n        updateUserOnline(user.uid, channelList);\n      } catch (error) {\n        setError(error.message);\n      }\n    },\n    [user, channelList, history, location.pathname, setError],\n  );\n\n  return { user, mentioned, setUser, channelList };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}