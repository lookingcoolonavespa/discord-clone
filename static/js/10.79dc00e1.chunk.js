(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[10,12],{145:function(e,t,n){"use strict";n.r(t);var s=n(15),a=n(56),c=(n(8),n(36)),r=n.n(c),o=n(114),i=n(102),l=n(118),u=(n(124),n(6)),j=["close","children"];t.default=function(e){var t=e.close,n=e.children,c=Object(a.a)(e,j);return r.a.createPortal(Object(u.jsxs)("div",{className:"settings",children:[Object(u.jsx)("div",{className:"sidebar-region",children:Object(u.jsx)("div",{className:"sidebar-scroller",children:Object(u.jsx)(o.a,Object(s.a)({},c))})}),Object(u.jsx)("div",{className:"content-region",children:Object(u.jsx)("div",{className:"content-transition-wrapper",children:Object(u.jsxs)("div",{className:"content-scroller",children:[Object(u.jsx)("main",{className:"content",children:n}),Object(u.jsx)("div",{className:"actions",children:Object(u.jsx)(i.a,{svg:l.a,onClick:t,className:"close-btn"})})]})})})]}),document.querySelector("body"))}},171:function(e,t,n){"use strict";var s=n(12),a=n(8),c=n(16),r=n(157),o=(n(136),n(137)),i=n(138),l=n(156),u=n(123),j=n(139),b=n(6);t.a=function(e){var t=e.visitingChannel,n=Object(a.useState)(!1),d=Object(s.a)(n,2),m=d[0],O=d[1],p=Object(c.e)();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("nav",{id:"main-nav",children:[Object(b.jsx)(o.a,{visitingChannel:t}),Object(b.jsxs)("div",{className:"scroller",children:[Object(b.jsx)(r.a,{}),Object(b.jsxs)("div",{className:"btn-ctn",children:[Object(b.jsx)(i.a,{svg:u.a,active:m,onClick:function(){return O(!0)},tooltipText:"Create a channel"}),Object(b.jsx)(i.a,{svg:j.a,active:p.location.pathname.includes("explore"),onClick:function(){return p.push("/explore")},tooltipText:"Explore public channels"})]})]})]}),m&&Object(b.jsx)(l.a,{close:function(){return O(!1)}})]})}},182:function(e,t,n){"use strict";var s=n(12),a=n(8),c=n(54),r=n(108),o=n(102),i=n(0),l=n.n(i),u=n(2),j=n(18),b=n(30),d=n(145),m=n(15),O=n(43),p=n(167),x=n(142),h=n(143),f=n(144),w=n(117),v=n(112),g=n(6),y=function(e){var t=e.editProfile,n=Object(a.useContext)(c.a).setUser,r=Object(a.useContext)(b.a).setError,o=Object(a.useContext)(c.a).channelList,i=Object(a.useState)(),d=Object(s.a)(i,2),y=d[0],C=d[1],N=Object(O.a)(),_=N.inputValues,k=N.handleChange,S=N.resetInputValues,E=Object(a.useCallback)((function(){C({title:"Change your username",subheader:"Enter a new username and your existing password",fields:[{label:"username",name:"new_username",type:"text"},{label:"current password",name:"current_password",type:"password"}],inputsToSubmit:"new_username"})}),[]),L=Object(a.useCallback)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.l)("displayName",_.new_username,n,o);case 2:case"end":return e.stop()}}),e)}))),[_.new_username,n,o]),R=Object(a.useCallback)((function(){C({title:"Enter an email address",subheader:"Enter a new email address and your existing password",fields:[{label:"email",name:"new_email",type:"email"},{label:"current password",name:"current_password",type:"password"}],inputsToSubmit:"new_email"})}),[]),T=Object(a.useCallback)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.l)("email",_.new_email,n);case 2:case"end":return e.stop()}}),e)}))),[_.new_email,n]),A=Object(a.useCallback)((function(){C({title:"Enter an email address",subheader:"Enter your current password and a new password",fields:[{label:"current password",name:"current_password",type:"password"},{label:"new password",name:"new_password",type:"password"},{label:"confirm new password",name:"confirm_password",type:"password"}],inputsToSubmit:"new_password"})}),[]),V=Object(a.useCallback)(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.l)("password",_.new_password);case 2:case"end":return e.stop()}}),e)}))),[_.new_password]),P=Object(a.useCallback)((function(){C({title:"Delete Account",subheader:"Are you sure you want to delete your account? This will immediately log you out of your account and you will not be able to log in again. Forever.",fields:[{label:"password",name:"password",type:"password"}],actionBtnText:"Delete Account",inputsToSubmit:"delete",cleanUp:function(){return""}})}),[]),D=Object(a.useCallback)((function(){return Object(j.g)(o,r)}),[o,r]),F=Object(a.useCallback)((function(){switch(null===y||void 0===y?void 0:y.inputsToSubmit){case"new_username":return L;case"new_email":return T;case"new_password":return V;case"delete":return D}}),[L,V,T,D,null===y||void 0===y?void 0:y.inputsToSubmit]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("section",{className:"my_account",children:[Object(g.jsx)("header",{children:Object(g.jsx)("h2",{children:"My Account"})}),Object(g.jsxs)("div",{className:"inner-content",children:[Object(g.jsx)(p.a,{editProfile:t,editUsername:E,editEmail:R}),Object(g.jsx)(x.a,{}),Object(g.jsx)(h.a,{editPassword:A}),Object(g.jsx)(x.a,{}),Object(g.jsx)(f.a,{deleteAcc:P})]})]}),y&&Object(g.jsx)(w.a,{close:function(){C(),S()},children:Object(g.jsx)(v.a,Object(m.a)(Object(m.a)({close:function(){C(),S()},handleChange:k,className:"settings-popup"},y),{},{submitAction:F(),inputValues:_,setError:r}))})]})},C=n(158),N=n(58),_=function(e){var t=e.close,n=Object(a.useContext)(b.a).SetError,c=Object(a.useReducer)((function(e,t){if("swap_to"===t.type)switch(t.payload){case"my account":return"my account";case"user profile":return"user profile";case"log out":!function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(j.f)();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),n(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()();break;default:throw new N.a("that doesn't exist!")}}),"my account"),r=Object(s.a)(c,2),o=r[0],i=r[1];return Object(g.jsx)(d.default,{close:t,categories:["user settings","none"],btnList:[k("my account","user settings",!0),k("user profile","user settings"),k("log out","none")],dispatch:i,children:o&&{"my account":Object(g.jsx)(y,{editProfile:function(){return i({type:"swap_to",payload:"user profile"})}}),"user profile":Object(g.jsx)(C.a,{})}[o]})};function k(e,t,n){return{text:e,category:t,isDefault:n}}var S=n(126);n(135),t.a=function(){var e=Object(a.useContext)(c.a).user,t=Object(a.useState)(!1),n=Object(s.a)(t,2),i=n[0],l=n[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("section",{className:"user-info-panel",children:Object(g.jsxs)("div",{className:"ctn",children:[Object(g.jsx)(r.a,{img:e.photoURL,color:e.color}),Object(g.jsx)("div",{className:"name-tag",children:Object(g.jsx)("div",{className:"username-wrapper",children:e.displayName})}),Object(g.jsx)("div",{className:"btn-ctn",children:Object(g.jsx)(o.a,{svg:S.a,onClick:function(){l(!0)}})})]})}),i&&Object(g.jsx)(_,{close:function(){return l(!1)}})]})}},379:function(e,t,n){"use strict";n.r(t);var s=n(12),a=n(8),c=n(16),r=n(129),o=n(54),i=n(0),l=n.n(i),u=n(2),j=n(30),b=n(43),d=n(42),m=n(182),O=n(134),p=n(193),x=n(117),h=n(112),f=n(239),w=n(123),v=(n(194),n(6)),g=function(e){var t=e.channel,n=e.categories,c=e.list;n=n||[];var i=Object(a.useContext)(o.a).mentioned,g=Object(a.useContext)(r.a),y=g.userRole,C=g.roomCategories,N=Object(a.useContext)(j.a).setError,_=Object(a.useState)(!1),k=Object(s.a)(_,2),S=k[0],E=k[1],L=Object(b.a)(),R=L.inputValues,T=L.handleChange,A=L.resetInputValues;function V(){return(V=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.c)(t.id,R.room_name,R.room_category||null);case 2:if(-1!==C.indexOf(R.room_category)){e.next=5;break}return e.next=5,Object(d.d)(t.id,R.room_category);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=Object(a.useState)(),D=Object(s.a)(P,2),F=D[0],U=D[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("nav",{className:"channel-nav sidebar",children:[Object(v.jsx)("header",{children:t.name}),Object(v.jsxs)("div",{className:"room-list",children:["owner"===y&&Object(v.jsx)("li",{className:"room-link-item new_room-btn",children:Object(v.jsxs)("button",{className:"content",onClick:function(){return E(!0)},children:[Object(v.jsx)("img",{src:w.a,alt:"plus icon"}),Object(v.jsx)("span",{children:"Add new room"})]})}),n.map((function(e,n){return Object(v.jsx)(O.a,{cat:e,isHeader:"none"!==e,className:"category-room-wrapper",children:c.filter((function(t){return t.category===e||!t.category&&"none"===e})).map((function(e){var n,s;return!!(null===i||void 0===i||null===(n=i[t.id])||void 0===n?void 0:n[e.id])&&(s=Object.keys(i[t.id][e.id]).length),Object(v.jsx)(p.a,{channel:t,room:e,mentionCount:s,isAdmin:"owner"===y,editRoom:function(){return U(e)}},e.id)}))},n)}))]}),Object(v.jsx)(m.a,{})]}),S&&Object(v.jsx)(x.a,{close:function(){E(!1),A()},children:Object(v.jsx)(h.a,{close:function(){E(!1),A()},handleChange:T,className:"settings-popup",title:"Create a new room",fields:[{label:"Room Name",name:"room_name",type:"text"},{label:"Room Category",name:"room_category",type:"text"}],submitAction:function(){return V.apply(this,arguments)},setError:N,inputValues:R})}),F&&Object(v.jsx)(f.a,{room:F,close:function(){return U()}})]})},y=n(238),C=n(196),N=n(237),_=n(171),k=(n(236),n(191)),S=n(192);t.default=function(e){var t=e.finishLoading,n=e.setError,i=Object(a.useContext)(o.a),l=i.user,u=i.channelList,j=Object(c.g)(),b=j.channelID,d=j.roomID,m=Object(a.useState)({id:b}),O=Object(s.a)(m,2),p=O[0],x=O[1],h=Object(a.useState)({id:d}),f=Object(s.a)(h,2),w=f[0],E=f[1],L=Object(a.useCallback)((function(e,t){return x({name:e,icon:t,id:b})}),[b]),R=Object(k.a)(l,b,u,L,n),T=R.visitingChannel,A=R.roleList,V=R.roomCategories,P=R.roomList,D=R.userList,F=R.onlineUsers,U=R.userRole,I=Object(a.useCallback)((function(e){return E({name:e,id:d})}),[d]),M=Object(S.a)(l,b,d,I,t,n),J=M.msgList,q=M.submitMsg;return Object(v.jsx)(r.a.Provider,{value:{userRole:U,roomCategories:V},children:Object(v.jsxs)("div",{className:"channel-view",children:[Object(v.jsx)(_.a,{visitingChannel:T}),p&&Object(v.jsx)(g,{channel:p,categories:V,list:P,setRoom:E,currentRoom:w}),w&&Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)(C.a,{room:w}),Object(v.jsxs)("div",{className:"chat-ctn",children:[Object(v.jsx)(N.a,{room:w,msgList:J,userList:D,submitMsg:q,isVisitor:!!T}),Object(v.jsx)(y.a,{list:F,roles:A})]})]})]})})}}}]);
//# sourceMappingURL=10.79dc00e1.chunk.js.map