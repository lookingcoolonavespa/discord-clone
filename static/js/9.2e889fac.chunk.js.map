{"version":3,"sources":["logic/custom-hooks/useTouchEvents.js","components/MobileSidebar.js","components/Settings/Settings _mobile.js","components/UserInfo/UserInfo_mobile.js","components/MainNav/MainNav_mobile.js","components/UserInfo/MyAccount _mobile.js","components/UserInfo/UserSettings_mobile.js","components/ChannelNav/ChannelNav_mobile.js","components/ChannelView_mobile.js"],"names":["useTouchEvents","onRightSwipe","onLeftSwipe","useState","touchStart","setTouchStart","isMoved","setIsMoved","touchEnd","setTouchEnd","handleTouchStart","e","targetTouches","clientX","handleTouchMove","handleTouchEnd","console","log","MobileSidebar","isVisible","isLeft","className","children","hide","defaultClassName","contentRef","useRef","useTransition","key","item","from","transform","enter","leave","expires","transitions","styles","t","i","div","onClick","ref","stopPropagation","target","closest","style","Settings","close","props","showSidebar","setShowSidebar","closeSidebar","useCallback","openSidebar","ReactDOM","createPortal","onTouchEnd","onTouchMove","onTouchStart","svg","closeSVG","document","querySelector","UserInfo","showSettings","user","useContext","UserContext","img","photoURL","color","displayName","settingsSVG","MainNav","beginCreateChannel","isCreateChannel","visitingChannel","history","useHistory","id","plusSVG","active","tooltipText","compassSVG","location","pathname","includes","push","MyAccount","setUser","setError","ErrorContext","channelList","popupDetails","setPopupDetails","useInputValues","inputValues","handleChange","resetInputValues","editUsername","title","subheader","fields","label","name","type","inputsToSubmit","updateUsername","updateUserInfo","new_username","editEmail","updateEmail","new_email","editPassword","updatePassword","new_password","deleteAcc","actionBtnText","cleanUp","deleteUser","removeUser","getSubmitAction","Field","display","email","Divider","PasswordSection","AccountRemoval","Modal","Popup","submitAction","isMobile","UserSettings","SetError","useReducer","state","action","payload","logout","message","Error","dispatch","categories","btnList","createSettingsButtonDetails","editProfile","UserProfile","text","category","ChannelNav","channel","list","showUserSettings","showCreateRoom","mentioned","userRole","ChannelContext","src","addSVG","alt","map","CatList","cat","isHeader","filter","room","mentionCount","Object","keys","length","RoomLink","ChannelView","finishLoading","useParams","channelID","roomID","setChannel","setRoom","updateChannel","icon","useOnChannelEnter","roleList","roomCategories","roomList","userList","onlineUsers","updateRoom","useOnRoomEnter","msgList","submitMsg","showLeftSidebar","setShowLeftSidebar","showRightSidebar","setShowRightSidebar","setShowUserSettings","setIsCreateChannel","isCreateRoom","setIsCreateRoom","newRoomInfo","createRoom","room_name","room_category","indexOf","createRoomCategory","editRoomInfo","setEditRoomInfo","Provider","value","RoomSettings","CreateChannel","currentRoom","TopBar","showUserList","showNav","ChatWrapper","isVisitor","OnlineUsers","roles"],"mappings":"8KAEe,SAASA,EAAeC,EAAcC,GACnD,MAAoCC,mBAAS,GAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KACA,EAAgCJ,mBAAS,GAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KAwBA,MAAO,CAAEC,iBAtBT,SAA0BC,GACxBN,EAAcM,EAAEC,cAAc,GAAGC,UAqBRC,gBAnB3B,SAAyBH,GACvBJ,GAAW,GACXE,EAAYE,EAAEC,cAAc,GAAGC,UAiBWE,eAf5C,WACMT,IACFU,QAAQC,IAAIb,EAAYI,GACpBJ,EAAaI,EAAW,KAC1BP,GAAgBA,IAEdG,EAAaI,GAAY,KAC3BN,GAAeA,KAGnBO,EAAY,GACZJ,EAAc,GACdE,GAAW,O,iCC1Bf,2BA+DeW,IA3DO,SAAC,GAMhB,IALLC,EAKI,EALJA,UACAC,EAII,EAJJA,OACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,SACAC,EACI,EADJA,KAEMC,EAAmBJ,EAAS,eAAiB,gBAC7CK,EAAaC,mBAmBnB,OAlBoBC,wBAAcR,EAAW,CAC3CS,IAAK,SAACC,GAAD,OAAUA,GACfC,KAAM,CACJC,UAAWX,EACP,yBACA,yBAENY,MAAO,CACLD,UAAW,uBAEbE,MAAO,CACLF,UAAWX,EACP,yBACA,yBAGNc,QAAS,GAEJC,EAAY,SAACC,EAAQP,EAAMQ,EAAGC,GACnC,OACET,GACE,cAAC,WAASU,IAAV,CACElB,UACEA,EAAS,UACFA,EADE,YACWG,GADX,UAEFA,GAETgB,QAASjB,EANX,SAQE,cAAC,WAASgB,IAAV,CACElB,UAAU,kBACVoB,IAAKhB,EACLe,QAAS,SAAC7B,GACRA,EAAE+B,mBAEA/B,EAAEgC,OAAOC,QAAQ,OACjBjC,EAAEgC,OAAOC,QAAQ,YAEjBrB,KAEJsB,MAAOT,EAXT,SAaGd,W,+KCMEwB,UA/CE,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,MAAOzB,EAAyB,EAAzBA,SAAa0B,EAAY,iBAClD,EAAsC7C,oBAAS,GAA/C,mBAAO8C,EAAP,KAAoBC,EAApB,KAEMC,EAAeC,uBAAY,WAC/BF,GAAe,KACd,IACGG,EAAcD,uBAAY,WAC9BF,GAAe,KACd,IACH,EACElD,YAAemD,EAAcE,GADvB3C,EAAR,EAAQA,iBAAkBI,EAA1B,EAA0BA,gBAAiBC,EAA3C,EAA2CA,eAE3C,OAAOuC,IAASC,aACd,sBACElC,UAAU,kBACVmC,WAAYzC,EACZ0C,YAAa3C,EACb4C,aAAchD,EAJhB,UAME,cAAC,IAAD,CACEU,QAAQ,EACRC,UAAU,iBACVE,KAAM4B,EACNhC,UAAW8B,EAJb,SAME,qBAAK5B,UAAU,mBAAf,SACE,cAAC,IAAD,eAAa2B,QAGjB,qBAAK3B,UAAU,iBAAf,SACE,qBAAKA,UAAU,6BAAf,SACE,sBAAKA,UAAU,mBAAf,UACE,sBAAMA,UAAU,UAAhB,SAA2BC,IAC3B,qBAAKD,UAAU,UAAf,SACE,cAAC,IAAD,CACEsC,IAAKC,IACLpB,QAASO,EACT1B,UAAW,0BAOvBwC,SAASC,cAAc,W,iCCzD3B,6DA4BeC,IAjBE,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACVC,EAASC,qBAAWC,KAApBF,KACR,OACE,yBAAS5C,UAAU,kBAAnB,SACE,sBAAKA,UAAU,MAAf,UACE,cAAC,IAAD,CAAQ+C,IAAKH,EAAKI,SAAUC,MAAOL,EAAKK,QACxC,qBAAKjD,UAAU,WAAf,SACE,qBAAKA,UAAU,mBAAf,SAAmC4C,EAAKM,gBAE1C,qBAAKlD,UAAU,UAAf,SACE,cAAC,IAAD,CAASsC,IAAKa,IAAahC,QAASwB,a,iCCrB9C,8EA+CeS,IAlCC,SAAC,GAIV,IAHLC,EAGI,EAHJA,mBACAC,EAEI,EAFJA,gBACAC,EACI,EADJA,gBAEMC,EAAUC,cAChB,OACE,mCACE,sBAAKC,GAAG,WAAR,UACE,cAAC,IAAD,CAAmBH,gBAAiBA,IACpC,sBAAKvD,UAAU,WAAf,UACE,cAAC,IAAD,IACA,sBAAKA,UAAU,UAAf,UACE,cAAC,IAAD,CACEsC,IAAKqB,IACLC,OAAQN,EACRnC,QAASkC,EACTQ,YAAa,qBAGf,cAAC,IAAD,CACEvB,IAAKwB,IACLF,OAAQJ,EAAQO,SAASC,SAASC,SAAS,WAC3C9C,QAAS,kBAAMqC,EAAQU,KAAK,aAC5BL,YAAa,yC,gLC6JZM,EAjLG,WAChB,MAA0BtB,qBAAWC,KAA7BF,EAAR,EAAQA,KAAMwB,EAAd,EAAcA,QACNC,EAAaxB,qBAAWyB,KAAxBD,SACAE,EAAgB1B,qBAAWC,KAA3ByB,YAER,EAAwCzF,qBAAxC,mBAAO0F,EAAP,KAAqBC,EAArB,KACA,EACEC,cADMC,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,aAAcC,EAAnC,EAAmCA,iBAG7BC,EAAe/C,uBAAY,WAC/B0C,EAAgB,CACdM,MAAO,uBACPC,UAAW,kDACXC,OAAQ,CACN,CAAEC,MAAO,WAAYC,KAAM,eAAgBC,KAAM,QACjD,CACEF,MAAO,mBACPC,KAAM,mBACNC,KAAM,aAGVC,eAAgB,mBAEjB,IACGC,EAAiBvD,sBAAW,gCAAC,wGAC3BwD,YACJ,cACAZ,EAAYa,aACZpB,EACAG,GAL+B,2CAOhC,CAACI,EAAYa,aAAcpB,EAASG,IAEjCkB,EAAY1D,uBAAY,WAC5B0C,EAAgB,CACdM,MAAO,yBACPC,UACE,uDACFC,OAAQ,CACN,CAAEC,MAAO,QAASC,KAAM,YAAaC,KAAM,SAC3C,CACEF,MAAO,mBACPC,KAAM,mBACNC,KAAM,aAGVC,eAAgB,gBAEjB,IACGK,EAAc3D,sBAAW,gCAAC,wGACxBwD,YAAe,QAASZ,EAAYgB,UAAWvB,GADvB,2CAE7B,CAACO,EAAYgB,UAAWvB,IAErBwB,EAAe7D,uBAAY,WAC/B0C,EAAgB,CACdM,MAAO,yBACPC,UAAW,iDACXC,OAAQ,CACN,CACEC,MAAO,mBACPC,KAAM,mBACNC,KAAM,YAER,CACEF,MAAO,eACPC,KAAM,eACNC,KAAM,YAER,CACEF,MAAO,uBACPC,KAAM,mBACNC,KAAM,aAGVC,eAAgB,mBAEjB,IACGQ,EAAiB9D,sBAAW,gCAAC,wGAC3BwD,YAAe,WAAYZ,EAAYmB,cADZ,2CAEhC,CAACnB,EAAYmB,eAEVC,EAAYhE,uBAAY,WAC5B0C,EAAgB,CACdM,MAAO,iBACPC,UACE,qJACFC,OAAQ,CACN,CACEC,MAAO,WACPC,KAAM,WACNC,KAAM,aAGVY,cAAe,iBACfX,eAAgB,SAChBY,QAAS,iBAAM,QAEhB,IAEGC,EAAanE,uBACjB,kBAAMoE,YAAW5B,EAAaF,KAC9B,CAACE,EAAaF,IAGV+B,EAAkBrE,uBAAY,WAClC,cACEyC,QADF,IACEA,OADF,EACEA,EAAca,gBAEd,IAAK,eACH,OAAOC,EACT,IAAK,YACH,OAAOI,EACT,IAAK,eACH,OAAOG,EACT,IAAK,SACH,OAAOK,KAGV,CACDZ,EACAO,EACAH,EACAQ,EAJC,OAKD1B,QALC,IAKDA,OALC,EAKDA,EAAca,iBAGhB,OACE,qCACE,0BAASrF,UAAU,aAAnB,UACE,iCACE,8CAEF,sBAAKA,UAAU,gBAAf,UACE,sBAAKA,UAAU,aAAf,UACE,cAACqG,EAAA,EAAD,CACE7F,KAAK,WACL8F,QAAS1D,EAAKM,YACd/B,QAAS2D,IAEX,cAACuB,EAAA,EAAD,CACE7F,KAAK,QACL8F,QAAS1D,EAAK2D,MACdpF,QAASsE,OAGb,cAACe,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CAAiBb,aAAcA,IAC/B,cAACY,EAAA,EAAD,IACA,cAACE,EAAA,EAAD,CAAgBX,UAAWA,UAG9BvB,GACC,cAACmC,EAAA,EAAD,CACEjF,MAAO,WACL+C,IACAI,KAHJ,SAME,cAAC+B,EAAA,EAAD,yBACElF,MAAO,WACL+C,IACAI,KAEFD,aAAcA,EACd5E,UAAU,kBACNwE,GAPN,IAQEqC,aAAcT,IACdU,UAAU,EACVnC,YAAaA,EACbN,SAAUA,W,iBC7HP0C,IAlDM,SAAC,GAAe,IAAbrF,EAAY,EAAZA,MACdsF,EAAanE,qBAAWyB,KAAxB0C,SACR,EAA0BC,sBAAW,SAACC,EAAOC,GAC3C,GAAoB,YAAhBA,EAAO/B,KACT,OAAQ+B,EAAOC,SACb,IAAK,aACH,MAAO,aACT,IAAK,eACH,MAAO,eACT,IAAK,WACH,iDAAC,iHAESC,cAFT,sDAIGL,EAAS,KAAMM,SAJlB,wDAAD,uDAOA,MACF,QACE,MAAM,IAAIC,IAAM,0BAGrB,cApBH,mBAAOL,EAAP,KAAcM,EAAd,KAsBA,OACE,cAAC,UAAD,CACE9F,MAAOA,EACP+F,WAAY,CAAC,gBAAiB,QAC9BC,QAAS,CACPC,EAA4B,aAAc,iBAC1CA,EAA4B,eAAgB,iBAC5CA,EAA4B,UAAW,SAEzCH,SAAUA,EARZ,SAUGN,GACC,CACE,aACE,cAAC,EAAD,CACEU,YAAa,kBACXJ,EAAS,CAAEpC,KAAM,UAAWgC,QAAS,oBAI3C,eAAgB,cAACS,EAAA,EAAD,CAAaf,UAAU,KACvCI,MAOV,SAASS,EAA4BG,EAAMC,GACzC,MAAO,CACLD,OACAC,c,iMCaWC,EAjEI,SAAC,GAMb,IALLC,EAKI,EALJA,QACAR,EAII,EAJJA,WACAS,EAGI,EAHJA,KACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,eAEAX,EAAaA,GAAc,GAE3B,IAAQY,EAAcxF,qBAAWC,KAAzBuF,UACAC,EAAazF,qBAAW0F,KAAxBD,SAER,OACE,mCACE,sBAAKtI,UAAU,sBAAf,UACE,iCAASiI,EAAQ9C,OACjB,sBAAKnF,UAAU,YAAf,UACgB,UAAbsI,GACC,oBAAItI,UAAU,8BAAd,SACE,yBAAQA,UAAU,UAAUmB,QAASiH,EAArC,UACE,qBAAKI,IAAKC,IAAQC,IAAI,cACtB,qDAILjB,EAAWkB,KAAI,SAACZ,EAAU9G,GAAX,OACd,cAAC2H,EAAA,EAAD,CAEEC,IAAKd,EACLe,SAAuB,SAAbf,EACV/H,UAAU,wBAJZ,SAMGkI,EACEa,QAAO,SAACC,GACP,OAAIA,EAAKjB,WAAaA,IACjBiB,EAAKjB,UAAyB,SAAbA,KAIvBY,KAAI,SAACK,GAAU,IAAD,EAGTC,EAKJ,QANG,OAACZ,QAAD,IAACA,GAAD,UAACA,EAAYJ,EAAQvE,WAArB,QAAC,EAA0BsF,EAAKtF,OAGjCuF,EAAeC,OAAOC,KACpBd,EAAUJ,EAAQvE,IAAIsF,EAAKtF,KAC3B0F,QAEF,cAACC,EAAA,EAAD,CAEEpB,QAASA,EACTe,KAAMA,EACNC,aAAcA,GAHTD,EAAKtF,QAtBbzC,SAgCX,cAAC,IAAD,CAAU0B,aAAcwF,U,iGCiJjBmB,UA7LK,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,cAAelF,EAAe,EAAfA,SACpC,EAA8BxB,qBAAWC,KAAjCF,EAAR,EAAQA,KAAM2B,EAAd,EAAcA,YACd,EAA8BiF,cAAtBC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,OACnB,EAA8B5K,mBAAS,CAAE4E,GAAI+F,IAA7C,mBAAOxB,EAAP,KAAgB0B,EAAhB,KACA,EAAwB7K,mBAAS,CAAE4E,GAAIgG,IAAvC,mBAAOV,EAAP,KAAaY,EAAb,KAEMC,EAAgB9H,uBACpB,SAACoD,EAAM2E,GAAP,OAAgBH,EAAW,CAAExE,OAAM2E,OAAMpG,GAAI+F,MAC7C,CAACA,IAEH,EAQIM,YACFnH,EACA6G,EACAlF,EACAsF,EACAxF,GAZAd,EADF,EACEA,gBACAyG,EAFF,EAEEA,SACAC,EAHF,EAGEA,eACAC,EAJF,EAIEA,SACAC,EALF,EAKEA,SACAC,EANF,EAMEA,YACA9B,EAPF,EAOEA,SAUI+B,EAAatI,uBACjB,SAACoD,GAAD,OAAUyE,EAAQ,CAAEzE,OAAMzB,GAAIgG,MAC9B,CAACA,IAEH,EAA+BY,YAC7B1H,EACA6G,EACAC,EACAW,EACAd,EACAlF,GANMkG,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,UASjB,GAA8C1L,oBAAS,GAAvD,qBAAO2L,GAAP,MAAwBC,GAAxB,MACA,GAAgD5L,oBAAS,GAAzD,qBAAO6L,GAAP,MAAyBC,GAAzB,MACM/L,GAAckD,uBAAY,WAC9B,OAAK0I,IAAoBE,GAErBA,GAAyBC,IAAoB,QAAjD,EADSF,IAAmB,KAE3B,CAACD,GAAiBE,KACf/L,GAAemD,uBAAY,WAC/B,OAAI0I,GAAwBC,IAAmB,GAC1CC,QAAL,EAA8BC,IAAoB,KACjD,CAACH,GAAiBE,KACrB,GACEhM,YAAeC,GAAcC,IADvBQ,GAAR,GAAQA,iBAAkBI,GAA1B,GAA0BA,gBAAiBC,GAA3C,GAA2CA,eAG3C,GAAgDZ,oBAAS,GAAzD,qBAAOqJ,GAAP,MAAyB0C,GAAzB,MACA,GAA8C/L,oBAAS,GAAvD,qBAAOwE,GAAP,MAAwBwH,GAAxB,MAEA,GAAwChM,oBAAS,GAAjD,qBAAOiM,GAAP,MAAqBC,GAArB,MACA,GAIItG,cAHWuG,GADf,GACEtG,YACAC,GAFF,GAEEA,aACAC,GAHF,GAGEA,iBA7DiD,wDAgEnD,wGACQqG,YACJjD,EAAQvE,GACRuH,GAAYE,UACZF,GAAYG,eAAiB,MAJjC,WAM6D,IAAvDnB,EAAeoB,QAAQJ,GAAYG,eANzC,gCAOUE,YAAmBrD,EAAQvE,GAAIuH,GAAYG,eAPrD,4CAhEmD,sBA2EnD,OAAwCtM,qBAAxC,qBAAOyM,GAAP,MAAqBC,GAArB,MAEA,OACE,eAACjD,EAAA,EAAekD,SAAhB,CAAyBC,MAAO,CAAEpD,YAAlC,UACGiD,IACC,cAACI,EAAA,EAAD,CACE3C,KAAMuC,GACN7J,MAAO,kBAAM8J,QAGhBT,IACC,cAACpE,EAAA,EAAD,CACEjF,MAAO,WACLsJ,IAAgB,GAChBnG,MAHJ,SAME,cAAC+B,EAAA,EAAD,CACElF,MAAO,WACLsJ,IAAgB,GAChBnG,MAEFD,aAAcA,GACd5E,UAAU,iBACV+E,MAAM,oBACNE,OAAQ,CACN,CAAEC,MAAO,YAAaC,KAAM,YAAaC,KAAM,QAC/C,CACEF,MAAO,gBACPC,KAAM,gBACNC,KAAM,SAGVyB,aA5GyC,4CA6GzCxC,SAAUA,EACVM,YAAasG,OAIlB3H,IACC,cAACsI,EAAA,EAAD,CACE9E,UAAU,EACVpF,MAAO,kBAAMoJ,IAAmB,MAGnC3C,GACC,cAAC,IAAD,CAAczG,MAAO,kBAAMmJ,IAAoB,MAE/C,sBACE7K,UAAU,eACVqC,aAAchD,GACd+C,YAAa3C,GACb0C,WAAYzC,GAJd,UAMGuI,GACC,eAACpI,EAAA,EAAD,CACEC,UAAW2K,GACX1K,QAAQ,EACRG,KAAM,kBAAMwK,IAAmB,IAHjC,UAKE,cAAC,IAAD,CACEnH,gBAAiBA,EACjBF,mBAAoB,kBAAMyH,IAAmB,IAC7CxH,gBAAiBA,KAEnB,cAAC,EAAD,CACE2E,QAASA,EACTR,WAAYwC,EACZ/B,KAAMgC,EACNN,QAASA,EACTiC,YAAa7C,EACbb,iBAAkB,WAChB0C,IAAoB,IAEtBzC,eAAgB,WACd4C,IAAgB,SAKvBhC,GACC,qCACE,sBAAKhJ,UAAU,UAAf,UACE,cAAC8L,EAAA,EAAD,CACE9C,KAAMA,EACNlC,UAAU,EACViF,aAAc,kBAAMnB,IAAoB,IACxCoB,QAAS,kBAAMtB,IAAmB,MAEpC,qBAAK1K,UAAU,WAAf,SACE,cAACiM,EAAA,EAAD,CACEjD,KAAMA,EACNuB,QAASA,EACTJ,SAAUA,EACVK,UAAWA,EACX0B,YAAa3I,SAInB,cAAC1D,EAAA,EAAD,CACEE,QAAQ,EACRG,KAAM,kBAAM0K,IAAoB,IAChC9K,UAAW6K,GAHb,SAKE,cAACwB,EAAA,EAAD,CAAajE,KAAMkC,EAAagC,MAAOpC","file":"static/js/9.2e889fac.chunk.js","sourcesContent":["import { useState } from 'react';\n\nexport default function useTouchEvents(onRightSwipe, onLeftSwipe) {\n  const [touchStart, setTouchStart] = useState(0);\n  const [isMoved, setIsMoved] = useState(false);\n  const [touchEnd, setTouchEnd] = useState(0);\n\n  function handleTouchStart(e) {\n    setTouchStart(e.targetTouches[0].clientX);\n  }\n  function handleTouchMove(e) {\n    setIsMoved(true);\n    setTouchEnd(e.targetTouches[0].clientX);\n  }\n  function handleTouchEnd() {\n    if (isMoved) {\n      console.log(touchStart, touchEnd);\n      if (touchStart - touchEnd > 100) {\n        onRightSwipe && onRightSwipe();\n      }\n      if (touchStart - touchEnd < -100) {\n        onLeftSwipe && onLeftSwipe();\n      }\n    }\n    setTouchEnd(0);\n    setTouchStart(0);\n    setIsMoved(false);\n  }\n\n  return { handleTouchStart, handleTouchMove, handleTouchEnd };\n}\n","import React, { useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTransition, animated } from 'react-spring';\n\nconst MobileSidebar = ({\n  isVisible,\n  isLeft,\n  className,\n  children,\n  hide,\n}) => {\n  const defaultClassName = isLeft ? 'left-sidebar' : 'right-sidebar';\n  const contentRef = useRef();\n  const transitions = useTransition(isVisible, {\n    key: (item) => item,\n    from: {\n      transform: isLeft\n        ? 'translate3d(-100%,0,0)'\n        : 'translate3d(100%,0,0)',\n    },\n    enter: {\n      transform: 'translate3d(0%,0,0)',\n    },\n    leave: {\n      transform: isLeft\n        ? 'translate3d(-100%,0,0)'\n        : 'translate3d(100%,0,0)',\n    },\n    // key: true,\n    expires: 0,\n  });\n  return transitions((styles, item, t, i) => {\n    return (\n      item && (\n        <animated.div\n          className={\n            className\n              ? `${className} ${defaultClassName}`\n              : `${defaultClassName}`\n          }\n          onClick={hide}\n        >\n          <animated.div\n            className=\"content-wrapper\"\n            ref={contentRef}\n            onClick={(e) => {\n              e.stopPropagation();\n              if (\n                e.target.closest('li') ||\n                e.target.closest('button')\n              )\n                hide();\n            }}\n            style={styles}\n          >\n            {children}\n          </animated.div>\n        </animated.div>\n      )\n    );\n  });\n};\n\nexport default MobileSidebar;\n\nMobileSidebar.propTypes = {\n  isVisible: PropTypes.bool,\n  isLeft: PropTypes.bool,\n  className: PropTypes.string,\n  children: PropTypes.oneOfType([PropTypes.element, PropTypes.array]),\n  hide: PropTypes.func,\n};\n","import React, { useState, useCallback } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport useTouchEvents from '../../logic/custom-hooks/useTouchEvents';\n\nimport Sidebar from './Sidebar';\nimport IconBtn from '../IconBtn';\nimport MobileSidebar from '../MobileSidebar';\n\nimport closeSVG from '../../assets/svg/close-line.svg';\n\nimport '../../styles/Settings.css';\n\nconst Settings = ({ close, children, ...props }) => {\n  const [showSidebar, setShowSidebar] = useState(true);\n\n  const closeSidebar = useCallback(() => {\n    setShowSidebar(false);\n  }, []);\n  const openSidebar = useCallback(() => {\n    setShowSidebar(true);\n  }, []);\n  const { handleTouchStart, handleTouchMove, handleTouchEnd } =\n    useTouchEvents(closeSidebar, openSidebar);\n  return ReactDOM.createPortal(\n    <div\n      className=\"settings mobile\"\n      onTouchEnd={handleTouchEnd}\n      onTouchMove={handleTouchMove}\n      onTouchStart={handleTouchStart}\n    >\n      <MobileSidebar\n        isLeft={true}\n        className=\"sidebar-region\"\n        hide={closeSidebar}\n        isVisible={showSidebar}\n      >\n        <div className=\"sidebar-scroller\">\n          <Sidebar {...props}></Sidebar>\n        </div>\n      </MobileSidebar>\n      <div className=\"content-region\">\n        <div className=\"content-transition-wrapper\">\n          <div className=\"content-scroller\">\n            <main className=\"content\">{children}</main>\n            <div className=\"actions\">\n              <IconBtn\n                svg={closeSVG}\n                onClick={close}\n                className={'close-btn'}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>,\n    document.querySelector('body'),\n  );\n};\n\nexport default Settings;\n\nSettings.propTypes = {\n  close: PropTypes.func,\n  children: PropTypes.element,\n};\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { UserContext } from '../../logic/contexts/UserContext';\n\nimport Avatar from '../Avatar';\nimport IconBtn from '../IconBtn';\n\nimport '../../styles/UserInfo.css';\nimport settingsSVG from '../../assets/svg/settings-3-fill.svg';\n\nconst UserInfo = ({ showSettings }) => {\n  const { user } = useContext(UserContext);\n  return (\n    <section className=\"user-info-panel\">\n      <div className=\"ctn\">\n        <Avatar img={user.photoURL} color={user.color} />\n        <div className=\"name-tag\">\n          <div className=\"username-wrapper\">{user.displayName}</div>\n        </div>\n        <div className=\"btn-ctn\">\n          <IconBtn svg={settingsSVG} onClick={showSettings} />\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default UserInfo;\n\nUserInfo.propTypes = {\n  showSettings: PropTypes.func,\n};\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport ChannelList from './ChannelList';\n\nimport '../../styles/MainNav.css';\nimport ChannelListHeader from './ChannelListHeader';\nimport MainNavBtn from './MainNavBtn';\n\nimport plusSVG from '../../assets/svg/add-line.svg';\nimport compassSVG from '../../assets/svg/compass-3-fill.svg';\n\nconst MainNav = ({\n  beginCreateChannel,\n  isCreateChannel,\n  visitingChannel,\n}) => {\n  const history = useHistory();\n  return (\n    <>\n      <nav id=\"main-nav\">\n        <ChannelListHeader visitingChannel={visitingChannel} />\n        <div className=\"scroller\">\n          <ChannelList />\n          <div className=\"btn-ctn\">\n            <MainNavBtn\n              svg={plusSVG}\n              active={isCreateChannel}\n              onClick={beginCreateChannel}\n              tooltipText={'Create a channel'}\n            />\n            {/* add a server */}\n            <MainNavBtn\n              svg={compassSVG}\n              active={history.location.pathname.includes('explore')}\n              onClick={() => history.push('/explore')}\n              tooltipText={'Explore public channels'}\n            />\n          </div>\n          {/* explore servers */}\n        </div>\n      </nav>\n    </>\n  );\n};\n\nexport default MainNav;\n\nMainNav.propTypes = {\n  beginCreateChannel: PropTypes.func,\n  isCreateChannel: PropTypes.bool,\n  visitingChannel: PropTypes.object,\n};\n","import React, { useState, useCallback, useContext } from 'react';\n\nimport {\n  updateUserInfo,\n  removeUser,\n} from '../../logic/user_firebaseStuff';\nimport useInputValues from '../../logic/custom-hooks/useInputValues';\nimport { UserContext } from '../../logic/contexts/UserContext';\nimport { ErrorContext } from '../../logic/contexts/ErrorContext';\n\nimport Field from '../Settings/Field';\nimport Divider from '../Settings/Divider';\nimport PasswordSection from './PasswordSection';\nimport AccountRemoval from './AccountRemoval';\nimport Modal from '../Modal';\nimport Popup from '../Popup';\n\nconst MyAccount = () => {\n  const { user, setUser } = useContext(UserContext);\n  const { setError } = useContext(ErrorContext);\n  const { channelList } = useContext(UserContext);\n\n  const [popupDetails, setPopupDetails] = useState();\n  const { inputValues, handleChange, resetInputValues } =\n    useInputValues();\n\n  const editUsername = useCallback(() => {\n    setPopupDetails({\n      title: 'Change your username',\n      subheader: 'Enter a new username and your existing password',\n      fields: [\n        { label: 'username', name: 'new_username', type: 'text' },\n        {\n          label: 'current password',\n          name: 'current_password',\n          type: 'password',\n        },\n      ],\n      inputsToSubmit: 'new_username',\n    });\n  }, []);\n  const updateUsername = useCallback(async () => {\n    await updateUserInfo(\n      'displayName',\n      inputValues.new_username,\n      setUser,\n      channelList,\n    );\n  }, [inputValues.new_username, setUser, channelList]);\n\n  const editEmail = useCallback(() => {\n    setPopupDetails({\n      title: 'Enter an email address',\n      subheader:\n        'Enter a new email address and your existing password',\n      fields: [\n        { label: 'email', name: 'new_email', type: 'email' },\n        {\n          label: 'current password',\n          name: 'current_password',\n          type: 'password',\n        },\n      ],\n      inputsToSubmit: 'new_email',\n    });\n  }, []);\n  const updateEmail = useCallback(async () => {\n    await updateUserInfo('email', inputValues.new_email, setUser);\n  }, [inputValues.new_email, setUser]);\n\n  const editPassword = useCallback(() => {\n    setPopupDetails({\n      title: 'Enter an email address',\n      subheader: 'Enter your current password and a new password',\n      fields: [\n        {\n          label: 'current password',\n          name: 'current_password',\n          type: 'password',\n        },\n        {\n          label: 'new password',\n          name: 'new_password',\n          type: 'password',\n        },\n        {\n          label: 'confirm new password',\n          name: 'confirm_password',\n          type: 'password',\n        },\n      ],\n      inputsToSubmit: 'new_password',\n    });\n  }, []);\n  const updatePassword = useCallback(async () => {\n    await updateUserInfo('password', inputValues.new_password);\n  }, [inputValues.new_password]);\n\n  const deleteAcc = useCallback(() => {\n    setPopupDetails({\n      title: 'Delete Account',\n      subheader:\n        'Are you sure you want to delete your account? This will immediately log you out of your account and you will not be able to log in again. Forever.',\n      fields: [\n        {\n          label: 'password',\n          name: 'password',\n          type: 'password',\n        },\n      ],\n      actionBtnText: 'Delete Account',\n      inputsToSubmit: 'delete',\n      cleanUp: () => '', // need to feed a cleanup function to avoid state update on unmounted component\n    });\n  }, []);\n\n  const deleteUser = useCallback(\n    () => removeUser(channelList, setError),\n    [channelList, setError],\n  );\n\n  const getSubmitAction = useCallback(() => {\n    switch (\n      popupDetails?.inputsToSubmit // get submit action based which popupDetails is active\n    ) {\n      case 'new_username':\n        return updateUsername;\n      case 'new_email':\n        return updateEmail;\n      case 'new_password':\n        return updatePassword;\n      case 'delete':\n        return deleteUser;\n      default:\n    }\n  }, [\n    updateUsername,\n    updatePassword,\n    updateEmail,\n    deleteUser,\n    popupDetails?.inputsToSubmit,\n  ]);\n\n  return (\n    <>\n      <section className=\"my_account\">\n        <header>\n          <h2>My Account</h2>\n        </header>\n        <div className=\"inner-content\">\n          <div className=\"field-list\">\n            <Field\n              item=\"username\"\n              display={user.displayName}\n              onClick={editUsername}\n            />\n            <Field\n              item=\"email\"\n              display={user.email}\n              onClick={editEmail}\n            />\n          </div>\n          <Divider />\n          <PasswordSection editPassword={editPassword} />\n          <Divider />\n          <AccountRemoval deleteAcc={deleteAcc} />\n        </div>\n      </section>\n      {popupDetails && (\n        <Modal\n          close={() => {\n            setPopupDetails();\n            resetInputValues();\n          }}\n        >\n          <Popup\n            close={() => {\n              setPopupDetails();\n              resetInputValues();\n            }}\n            handleChange={handleChange}\n            className=\"settings-popup\"\n            {...popupDetails}\n            submitAction={getSubmitAction()}\n            isMobile={true}\n            inputValues={inputValues}\n            setError={setError}\n          ></Popup>\n        </Modal>\n      )}\n    </>\n  );\n};\n\nexport default MyAccount;\n","import React, { useContext, useReducer } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { logout } from '../../logic/user_firebaseStuff';\nimport { ErrorContext } from '../../logic/contexts/ErrorContext';\n\nimport Settings from '../Settings/Settings _mobile';\nimport MyAccount from './MyAccount _mobile';\nimport UserProfile from './UserProfile';\nimport Error from '../Error';\n\nconst UserSettings = ({ close }) => {\n  const { SetError } = useContext(ErrorContext);\n  const [state, dispatch] = useReducer((state, action) => {\n    if (action.type === 'swap_to') {\n      switch (action.payload) {\n        case 'my account':\n          return 'my account';\n        case 'user profile':\n          return 'user profile';\n        case 'log out':\n          (async function onLogout() {\n            try {\n              await logout();\n            } catch (error) {\n              SetError(error.message);\n            }\n          })();\n          break;\n        default:\n          throw new Error(\"that doesn't exist!\");\n      }\n    }\n  }, 'my account');\n\n  return (\n    <Settings\n      close={close}\n      categories={['user settings', 'none']}\n      btnList={[\n        createSettingsButtonDetails('my account', 'user settings'),\n        createSettingsButtonDetails('user profile', 'user settings'),\n        createSettingsButtonDetails('log out', 'none'),\n      ]}\n      dispatch={dispatch}\n    >\n      {state &&\n        {\n          'my account': (\n            <MyAccount\n              editProfile={() =>\n                dispatch({ type: 'swap_to', payload: 'user profile' })\n              }\n            />\n          ),\n          'user profile': <UserProfile isMobile={true} />,\n        }[state]}\n    </Settings>\n  );\n};\n\nexport default UserSettings;\n\nfunction createSettingsButtonDetails(text, category) {\n  return {\n    text,\n    category,\n  };\n}\n\nUserSettings.propTypes = {\n  close: PropTypes.func,\n};\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { UserContext } from '../../logic/contexts/UserContext';\nimport { ChannelContext } from '../../logic/contexts/ChannelContext';\n\nimport UserInfo from '../UserInfo/UserInfo_mobile';\nimport CatList from '../CatList';\nimport RoomLink from './RoomLink';\n\nimport addSVG from '../../assets/svg/add-line.svg';\n\nimport '../../styles/ChannelNav.css';\n\nconst ChannelNav = ({\n  channel,\n  categories,\n  list,\n  showUserSettings,\n  showCreateRoom,\n}) => {\n  categories = categories || [];\n\n  const { mentioned } = useContext(UserContext);\n  const { userRole } = useContext(ChannelContext);\n\n  return (\n    <>\n      <nav className=\"channel-nav sidebar\">\n        <header>{channel.name}</header>\n        <div className=\"room-list\">\n          {userRole === 'owner' && (\n            <li className=\"room-link-item new_room-btn\">\n              <button className=\"content\" onClick={showCreateRoom}>\n                <img src={addSVG} alt=\"plus icon\" />\n                <span>Add new room</span>\n              </button>\n            </li>\n          )}\n          {categories.map((category, i) => (\n            <CatList\n              key={i}\n              cat={category}\n              isHeader={category !== 'none'}\n              className=\"category-room-wrapper\"\n            >\n              {list\n                .filter((room) => {\n                  if (room.category === category) return true;\n                  if (!room.category && category === 'none')\n                    return true;\n                  return false;\n                })\n                .map((room) => {\n                  const hasMentions =\n                    !!mentioned?.[channel.id]?.[room.id];\n                  let mentionCount;\n                  if (hasMentions)\n                    mentionCount = Object.keys(\n                      mentioned[channel.id][room.id],\n                    ).length;\n                  return (\n                    <RoomLink\n                      key={room.id}\n                      channel={channel}\n                      room={room}\n                      mentionCount={mentionCount}\n                    />\n                  );\n                })}\n            </CatList>\n          ))}\n        </div>\n        <UserInfo showSettings={showUserSettings} />\n      </nav>\n    </>\n  );\n};\n\nexport default ChannelNav;\n\nChannelNav.propTypes = {\n  channel: PropTypes.object,\n  categories: PropTypes.array,\n  list: PropTypes.array,\n  showUserSettings: PropTypes.func,\n  showCreateRoom: PropTypes.func,\n};\n","import React, { useState, useCallback, useContext } from 'react';\nimport { useParams } from 'react-router';\nimport PropTypes from 'prop-types';\n\nimport { UserContext } from '../logic/contexts/UserContext';\nimport useTouchEvents from '../logic/custom-hooks/useTouchEvents';\nimport useOnChannelEnter from '../logic/custom-hooks/useOnChannelEnter';\nimport useOnRoomEnter from '../logic/custom-hooks/useOnRoomEnter';\nimport { ChannelContext } from '../logic/contexts/ChannelContext';\nimport useInputValues from '../logic/custom-hooks/useInputValues';\nimport {\n  createRoom,\n  createRoomCategory,\n} from '../logic/channel_firebaseStuff';\n\nimport ChannelNav from './ChannelNav/ChannelNav_mobile';\nimport UserSettings from './UserInfo/UserSettings_mobile';\nimport MobileSidebar from './MobileSidebar';\nimport OnlineUsers from './OnlineUsers/OnlineUsers';\nimport TopBar from './TopBar';\nimport ChatWrapper from './Chat/ChatWrapper';\nimport MainNav from './MainNav/MainNav_mobile';\nimport CreateChannel from './CreateChannel/CreateChannel';\nimport Modal from './Modal';\nimport Popup from './Popup';\nimport RoomSettings from './Settings/RoomSettings/RoomSettings';\n\nimport '../styles/ChannelView.css';\n\nconst ChannelView = ({ finishLoading, setError }) => {\n  const { user, channelList } = useContext(UserContext);\n  const { channelID, roomID } = useParams();\n  const [channel, setChannel] = useState({ id: channelID });\n  const [room, setRoom] = useState({ id: roomID });\n\n  const updateChannel = useCallback(\n    (name, icon) => setChannel({ name, icon, id: channelID }),\n    [channelID],\n  );\n  const {\n    visitingChannel,\n    roleList,\n    roomCategories,\n    roomList,\n    userList,\n    onlineUsers,\n    userRole,\n  } = useOnChannelEnter(\n    user,\n    channelID,\n    channelList,\n    updateChannel,\n    setError,\n  );\n\n  // room stuff\n  const updateRoom = useCallback(\n    (name) => setRoom({ name, id: roomID }),\n    [roomID],\n  );\n  const { msgList, submitMsg } = useOnRoomEnter(\n    user,\n    channelID,\n    roomID,\n    updateRoom,\n    finishLoading,\n    setError,\n  );\n\n  const [showLeftSidebar, setShowLeftSidebar] = useState(false);\n  const [showRightSidebar, setShowRightSidebar] = useState(false);\n  const onLeftSwipe = useCallback(() => {\n    if (!showLeftSidebar && !showRightSidebar)\n      return setShowLeftSidebar(true);\n    if (showRightSidebar) return setShowRightSidebar(false);\n  }, [showLeftSidebar, showRightSidebar]);\n  const onRightSwipe = useCallback(() => {\n    if (showLeftSidebar) return setShowLeftSidebar(false);\n    if (!showRightSidebar) return setShowRightSidebar(true);\n  }, [showLeftSidebar, showRightSidebar]);\n  const { handleTouchStart, handleTouchMove, handleTouchEnd } =\n    useTouchEvents(onRightSwipe, onLeftSwipe);\n\n  const [showUserSettings, setShowUserSettings] = useState(false);\n  const [isCreateChannel, setIsCreateChannel] = useState(false);\n\n  const [isCreateRoom, setIsCreateRoom] = useState(false);\n  const {\n    inputValues: newRoomInfo,\n    handleChange,\n    resetInputValues,\n  } = useInputValues();\n\n  async function onCreateRoom() {\n    await createRoom(\n      channel.id,\n      newRoomInfo.room_name,\n      newRoomInfo.room_category || null,\n    );\n    if (roomCategories.indexOf(newRoomInfo.room_category) === -1) {\n      await createRoomCategory(channel.id, newRoomInfo.room_category);\n    }\n  }\n\n  const [editRoomInfo, setEditRoomInfo] = useState();\n\n  return (\n    <ChannelContext.Provider value={{ userRole }}>\n      {editRoomInfo && (\n        <RoomSettings\n          room={editRoomInfo}\n          close={() => setEditRoomInfo()}\n        />\n      )}\n      {isCreateRoom && (\n        <Modal\n          close={() => {\n            setIsCreateRoom(false);\n            resetInputValues();\n          }}\n        >\n          <Popup\n            close={() => {\n              setIsCreateRoom(false);\n              resetInputValues();\n            }}\n            handleChange={handleChange}\n            className=\"settings-popup\"\n            title=\"Create a new room\"\n            fields={[\n              { label: 'Room Name', name: 'room_name', type: 'text' },\n              {\n                label: 'Room Category',\n                name: 'room_category',\n                type: 'text',\n              },\n            ]}\n            submitAction={onCreateRoom}\n            setError={setError}\n            inputValues={newRoomInfo}\n          ></Popup>\n        </Modal>\n      )}\n      {isCreateChannel && (\n        <CreateChannel\n          isMobile={true}\n          close={() => setIsCreateChannel(false)}\n        />\n      )}\n      {showUserSettings ? (\n        <UserSettings close={() => setShowUserSettings(false)} />\n      ) : (\n        <div\n          className=\"channel-view\"\n          onTouchStart={handleTouchStart}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n        >\n          {channel && (\n            <MobileSidebar\n              isVisible={showLeftSidebar}\n              isLeft={true}\n              hide={() => setShowLeftSidebar(false)}\n            >\n              <MainNav\n                visitingChannel={visitingChannel}\n                beginCreateChannel={() => setIsCreateChannel(true)}\n                isCreateChannel={isCreateChannel}\n              />\n              <ChannelNav\n                channel={channel}\n                categories={roomCategories}\n                list={roomList}\n                setRoom={setRoom}\n                currentRoom={room}\n                showUserSettings={() => {\n                  setShowUserSettings(true);\n                }}\n                showCreateRoom={() => {\n                  setIsCreateRoom(true);\n                }}\n              />\n            </MobileSidebar>\n          )}\n          {room && (\n            <>\n              <div className=\"content\">\n                <TopBar\n                  room={room}\n                  isMobile={true}\n                  showUserList={() => setShowRightSidebar(true)}\n                  showNav={() => setShowLeftSidebar(true)}\n                />\n                <div className=\"chat-ctn\">\n                  <ChatWrapper\n                    room={room}\n                    msgList={msgList}\n                    userList={userList}\n                    submitMsg={submitMsg}\n                    isVisitor={!!visitingChannel}\n                  />\n                </div>\n              </div>\n              <MobileSidebar\n                isLeft={false}\n                hide={() => setShowRightSidebar(false)}\n                isVisible={showRightSidebar}\n              >\n                <OnlineUsers list={onlineUsers} roles={roleList} />\n              </MobileSidebar>\n            </>\n          )}\n        </div>\n      )}\n    </ChannelContext.Provider>\n  );\n};\n\nexport default ChannelView;\n\nChannelView.propTypes = {\n  finishLoading: PropTypes.func,\n  setError: PropTypes.func,\n};\n"],"sourceRoot":""}