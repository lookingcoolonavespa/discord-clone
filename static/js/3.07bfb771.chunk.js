(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[3],{126:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(8),a=Object(c.createContext)(null)},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(0),a=n(2),r=n(12),s=n(8),i=n(16),o=n(41);function u(e,t,n,u,l){var j=Object(s.useState)(),b=Object(r.a)(j,2),d=b[0],m=b[1],f=Object(s.useState)(["Online"]),O=Object(r.a)(f,2),p=O[0],h=O[1],v=Object(s.useState)(["none"]),x=Object(r.a)(v,2),g=x[0],y=x[1],N=Object(s.useState)([]),w=Object(r.a)(N,2),k=w[0],C=w[1],R=Object(s.useState)([]),S=Object(r.a)(R,2),T=S[0],E=S[1],L=Object(s.useState)([]),M=Object(r.a)(L,2),I=M[0],A=M[1],_=Object(s.useState)(),D=Object(r.a)(_,2),F=D[0],U=D[1],V=Object(s.useMemo)((function(){return null===n||void 0===n?void 0:n.every((function(e){return e.id!==t}))}),[n,t]),B=Object(i.e)(),K=Object(i.f)();return Object(s.useEffect)((function(){e&&n&&Object(a.a)(Object(c.a)().mark((function e(){var n,a;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&V){e.next=2;break}return e.abrupt("return",m());case 2:if(!d){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,Object(o.j)(t);case 7:n=e.sent,a={name:n[0],icon:n[1],defaultRoom:n[2]},m(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),l(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))()}),[e,t,n,d,V,l]),Object(s.useEffect)((function(){if(t&&e)return Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.h)(t,u,y,C,h,E,A);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),l(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))(),function(){Object(o.g)(t,e.uid)}}),[t,V,u,e,l]),Object(s.useEffect)((function(){var t;e&&T&&U(null===(t=T.find((function(t){return t.uid===e.uid})))||void 0===t?void 0:t.role)}),[e,T]),Object(s.useEffect)((function(){if(e&&n&&(K.pathname==="/channels/".concat(t)||K.pathname==="/channels/".concat(t,"/")))if(V){if(!d)return;var c=Object.keys(d.defaultRoom)[0];B.push("/channels/".concat(t,"/").concat(c))}else{var a=n&&Object.keys(null===n||void 0===n?void 0:n.find((function(e){return e.id===t})).defaultRoom)[0];B.replace("/channels/".concat(t,"/").concat(a,"/"))}}),[e,t,n,B,V,d,K.pathname]),{visitingChannel:d,roleList:p,roomCategories:g,roomList:k,userList:T,onlineUsers:I,userRole:F}}},189:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var c=n(0),a=n(2),r=n(12),s=n(8),i=n(65),o=n(94),u=n(19);function l(e,t,n,l,j,b){var d=Object(s.useState)([]),m=Object(r.a)(d,2),f=m[0],O=m[1];return Object(s.useEffect)((function(){if(e&&t&&n)return function(){r.apply(this,arguments)}(),Object(a.a)(Object(c.a)().mark((function a(){return Object(c.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,Object(i.a)(n),c.next=4,Object(u.b)(e.uid,t,n);case 4:c.next=9;break;case 6:c.prev=6,c.t0=c.catch(0),b(c.t0.message);case 9:case"end":return c.stop()}}),a,null,[[0,6]])})));function r(){return(r=Object(a.a)(Object(c.a)().mark((function a(){return Object(c.a)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(i.b)(n,l,O,j);case 3:return c.next=5,Object(u.b)(e.uid,t,n);case 5:c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),b(c.t0.message);case 10:case"end":return c.stop()}}),a,null,[[0,7]])})))).apply(this,arguments)}}),[n,t,e,l,j,b]),{msgList:f,submitMsg:function(e,t,n,c){return p.apply(this,arguments)}};function p(){return p=Object(a.a)(Object(c.a)().mark((function r(s,l,j,d){var m,f;return Object(c.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return m={msg:s,user:e.uid,replyTo:l||null,mentions:j||null,attachments:d||null,timestamp:Object(o.a)(new Date)},r.next=3,Object(i.c)(n,m);case 3:f=r.sent,j.length>0&&j.forEach(function(){var e=Object(a.a)(Object(c.a)().mark((function e(a){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.k)(a.uid,t,n,f);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),b(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return r.stop()}}),r)}))),p.apply(this,arguments)}}},190:function(e,t,n){"use strict";var c=n(12),a=n(8),r=n(37),s=n(186),i=n(99),o=n(162),u=n(123),l=n(6);t.a=function(e){var t=e.channel,n=e.room,j=e.mentionCount,b=e.isAdmin,d=e.editRoom,m=Object(a.useState)(),f=Object(c.a)(m,2),O=f[0],p=f[1],h=Object(a.useRef)({});return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{className:"room-link-item",children:Object(l.jsxs)(r.c,{to:"/channels/".concat(t.id,"/").concat(n.id),className:"content",activeClassName:"active",children:[Object(l.jsx)("span",{children:n.name}),b&&Object(l.jsx)("div",{className:"actions",children:Object(l.jsx)(i.a,{svg:u.a,elRef:function(e){return h.current.settings=e},onMouseEnter:function(){return p({text:"Edit Room",el:h.current.settings})},onMouseLeave:function(){return p()},onClick:d})}),j&&Object(l.jsx)(s.a,{count:j})]})}),O&&Object(l.jsx)(o.a,{text:O.text,posInfo:O.el.getBoundingClientRect(),direction:"top"})]})}},191:function(e,t,n){},192:function(e,t,n){"use strict";var c=n(15),a=n(54),r=(n(8),n(105)),s=n(6),i=["className","id","user","onClick","selectMention","mention","theme","searchValue","isFocused"];t.a=function(e){var t=e.className,n=(e.id,e.user),o=e.onClick,u=(e.selectMention,e.mention),l=(e.theme,e.searchValue,e.isFocused),j=Object(a.a)(e,i);l&&(t+=" user-focused");var b=n=n||u,d=b.avatar,m=b.color,f=b.status,O=b.displayName;return Object(s.jsxs)("li",Object(c.a)(Object(c.a)({className:"user-wrapper ".concat(t),onClick:o},j),{},{children:[Object(s.jsx)(r.a,{img:d,color:m,userStatus:f}),Object(s.jsxs)("div",{className:"content",children:[Object(s.jsx)("span",{children:O}),Object(s.jsx)("span",{className:"subText"})]})]}))}},231:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){"use strict";var c=n(0),a=n(2),r=n(12),s=n(8),i=n(16),o=n(19),u=n(53),l=n(30),j=n(15),b=n(54),d=n(105),m=(n(254),n.p+"static/media/reply-fill.94bd357e.svg"),f=n(99),O=n(6),p=function(e){var t=e.setReplyTo;return Object(O.jsx)("div",{className:"msg-btns btn-ctn",children:Object(O.jsx)("div",{className:"container",children:Object(O.jsx)("div",{className:"wrapper",children:Object(O.jsx)(f.a,{svg:m,alt:"reply button",onClick:t})})})})},h=(n(255),["displayName","uid","id","mention"]),v=function(e){var t=e.displayName,n=e.uid,c=e.id,a=e.mention,r=Object(b.a)(e,h);return t=t||(null===a||void 0===a?void 0:a.displayName),n=n||(null===a||void 0===a?void 0:a.uid),Object(O.jsxs)("span",{className:"mention-wrapper","data-uid":n,"data-id":c,children:[t&&Object(O.jsxs)("span",{children:["@",t]}),Object(O.jsx)("span",{style:{display:"none"},children:r.children})]})},x=n(124),g=n.p+"static/media/attach_file_black_24dp.66ab46ba.svg",y=(n(256),function(e){var t=e.name,n=e.url,c=e.cancel;return Object(O.jsxs)("div",{className:"attachment-wrapper",children:[Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("div",{className:"icon-wrapper",children:Object(O.jsx)("img",{src:g,alt:"uploaded file icon"})}),n?Object(O.jsx)("a",{className:"link-wrapper text-wrapper",href:n,children:t}):Object(O.jsx)("div",{className:"text-wrapper",children:t})]}),c&&Object(O.jsx)("div",{className:"actions",children:Object(O.jsx)(f.a,{svg:x.a,onClick:c})})]})}),N=function(e){var t=e.displayName,n=e.avatar,c=e.color,a=e.msg;return Object(O.jsxs)("div",{className:"msg-reply-context",children:[Object(O.jsx)(d.a,{img:n,color:c}),Object(O.jsx)("span",{className:"display-name",children:t}),Object(O.jsx)("div",{className:"replied-text-preview",children:Object(O.jsx)("div",{className:"content",children:a})})]})},w=n(257),k=n(258),C=n(368),R=n(367);function S(e){var t=Object(w.a)(e);return Object(k.a)(t)?"Today at ".concat(Object(R.a)(t,"K':'mm a")):Object(C.a)(t)?"Yesterday at ".concat(Object(R.a)(t,"K':'mm a")):Object(R.a)(t,"M'/'d'/'y")}var T=function(e){var t=e.displayName,n=e.timestamp;return Object(O.jsxs)("header",{children:[Object(O.jsx)("span",{className:"display-name",children:t}),Object(O.jsx)("span",{className:"timestamp",children:S(n)})]})},E=(n(259),function(e){var t=e.content,n=e.userList,c=e.onReplyTo,a=t.user,i=t.msg,o=t.timestamp,l=t.msgId,j=t.mentions,b=t.attachments,m=t.replyTo,f=Object(s.useState)(!1),h=Object(r.a)(f,2),x=h[0],g=h[1],w=Object(s.useContext)(u.a).user,k=(null===j||void 0===j?void 0:j.some((function(e){return e.uid===w.uid})))||(null===m||void 0===m?void 0:m.user)===w.uid,C=Object(s.useMemo)((function(){return n.find((function(e){return e.uid===a}))}),[n,a]),R=Object(s.useMemo)((function(){return n.find((function(e){return e.uid===(null===m||void 0===m?void 0:m.user)}))}),[n,m]),S=Object(s.useCallback)((function(e,t){if(!t||0===t.length)return e;var c=[],a=[];t.forEach((function(e){a.push(e.range.offset);for(var t=e.range.offset;t<e.range.offset+e.range.length;t++)c.push(t)}));var r=[];return e.split("").forEach((function(e,s){var i,o=a.indexOf(s);if(-1!==o&&r.push(Object(O.jsx)(v,{displayName:null===n||void 0===n||null===(i=n.find((function(e){return e.uid===t[o].uid})))||void 0===i?void 0:i.displayName,uid:t[o].uid},o)),!c.includes(s))return 0===s||c.includes(s-1)?r.push(e):r[r.length-1]=r[r.length-1].concat(e)})),r}),[n]);return Object(O.jsx)("li",{className:k?"chat-msg mentioned":"chat-msg",onMouseOver:function(){return g(!0)},onMouseLeave:function(){return g(!1)},children:Object(O.jsxs)("div",{className:"msg",children:[m&&Object(O.jsx)(N,{displayName:null===R||void 0===R?void 0:R.displayName,msg:S(m.msg,m.mentions),avatar:null===R||void 0===R?void 0:R.avatar,color:null===R||void 0===R?void 0:R.color}),Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)(d.a,{img:null===C||void 0===C?void 0:C.avatar,color:null===C||void 0===C?void 0:C.color}),Object(O.jsx)(T,{displayName:null===C||void 0===C?void 0:C.displayName,timestamp:o}),Object(O.jsx)("div",{className:"msg-content",children:S(i,j)}),b&&Object(O.jsx)("div",{className:"attachments-ctn",children:b.map((function(e,t){return Object(O.jsx)(y,{url:e.url,name:e.name},t)}))}),x&&Object(O.jsx)(p,{msgId:l,setReplyTo:function(){return c(null===C||void 0===C?void 0:C.displayName,l)}})]})]})})}),L=(n(260),["roomID","msgList","userList"]),M=function(e){var t=e.roomID,n=e.msgList,i=e.userList,o=Object(b.a)(e,L),u=Object(s.useRef)(),l=Object(s.useRef)(),d=Object(s.useState)(!0),m=Object(r.a)(d,2),f=m[0],p=m[1],h=Object(s.useState)(!0),v=Object(r.a)(h,2),x=v[0],g=v[1];return Object(s.useEffect)((function(){return g(!0),function(){p(!1)}}),[t]),Object(s.useEffect)((function(){!function(){var e;null===(e=u.current)||void 0===e||e.scrollIntoView({behavior:"auto",block:"end",inline:"center",alignToTop:!1})}()}),[n]),Object(O.jsx)("div",{className:"messages-ctn",children:Object(O.jsxs)("div",{className:"scroller",ref:l,style:{opacity:f?1:0},onLoad:Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(l.current);case 2:p(!0);case 3:case"end":return e.stop()}}),e)}))),onScroll:Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,I(l.current);case 4:p(!0),g(!1);case 6:case"end":return e.stop()}}),e)}))),children:[Object(O.jsx)("div",{className:"scroller-content",children:Object(O.jsx)("ol",{children:n.map((function(e){return Object(O.jsx)(E,Object(j.a)({content:e,userList:i},o),e.msgId)}))})}),Object(O.jsx)("span",{ref:u})]})})};function I(e){return new Promise((function(t){requestAnimationFrame((function c(){if(e.scrollHeight-e.offsetHeight-e.scrollTop<50){if(n++>10)return t();requestAnimationFrame(c)}}));var n=0}))}var A=n(17),_=n(41),D=n(25),F=n(261),U=n.n(F),V=(n(262),function(e){var t=e.displayName,n=e.close;return Object(O.jsx)("div",{className:"reply-bar",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"content",children:["Replying to"," ",Object(O.jsx)("span",{className:"display-name",children:t})]})}),Object(O.jsx)("div",{className:"actions btn-ctn",children:Object(O.jsx)(f.a,{onClick:n,svg:x.a,className:"close-btn"})})]})})}),B=n(169),K=n(360),H=n(366),P=n(192),q=(n(231),function(e){var t=e.children;return Object(O.jsx)("div",{className:"mentions-popup",children:Object(O.jsxs)("div",{className:"suggestions-wrapper",children:[Object(O.jsx)("header",{children:Object(O.jsx)("h3",{children:"Members"})}),t.length>0?Object(O.jsx)("ul",{children:t}):Object(O.jsx)("div",{className:"text-wrapper",children:Object(O.jsx)("span",{children:"No users match"})})]})})}),J=function(e){var t=e.chatBarInputRef,n=e.roomName,i=e.userList,o=e.replyTo,u=e.setReplyTo,b=e.isAttachments,d=e.getAttachmentsURL,m=e.cleanUpAttachments,f=e.submit,p=Object(s.useState)((function(){return B.EditorState.createEmpty()})),h=Object(r.a)(p,2),x=h[0],g=h[1],y=Object(s.useState)(!1),N=Object(r.a)(y,2),w=N[0],k=N[1],C=Object(s.useState)(i),R=Object(r.a)(C,2),S=R[0],T=R[1],E=Object(s.useContext)(l.a).setError,L=Object(s.useMemo)((function(){var e=Object(H.a)({mentionComponent:v});return{plugins:[e],MentionSuggestions:e.MentionSuggestions}}),[]),M=L.MentionSuggestions,I=L.plugins;return Object(O.jsxs)("div",{className:"input-wrapper",children:[Object(O.jsx)(K.a,{ref:t,editorKey:"editor",editorState:x,onChange:function(e){g(e)},plugins:I,keyBindingFn:function(e){if("Enter"===e.key)return"msg-submit"},handleKeyCommand:function(e){if("msg-submit"===e)!function(){t.apply(this,arguments)}();function t(){return(t=Object(a.a)(Object(c.a)().mark((function e(){var t,n,a,r,s,i,l,O,p;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(){for(var e in n.entityMap)a.push({uid:n.entityMap[e].data.mention.uid});Object.keys(n.blocks[0].entityRanges).forEach((function(e,t){a[t]=Object(j.a)(Object(j.a)({},a[t]),{},{range:n.blocks[0].entityRanges[t]})}))},t=o?o.msgID:null,n=Object(B.convertToRaw)(x.getCurrentContent()),a=[],r(),s=n.blocks[0].text,e.prev=6,b||s){e.next=9;break}return e.abrupt("return");case 9:if(!b){e.next=13;break}return e.next=12,d();case 12:i=e.sent;case 13:return e.next=15,f(s,t,a,i);case 15:m(),u(),l=B.EditorState.push(x,B.ContentState.createFromText("")),O=x.getSelection(),p=B.EditorState.forceSelection(l,O),g(p),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(6),E(e.t0.message);case 26:case"end":return e.stop()}}),e,null,[[6,23]])})))).apply(this,arguments)}},placeholder:"message ".concat(n)}),Object(O.jsx)(M,{open:w,onOpenChange:function(e){k(e)},entryComponent:P.a,popoverContainer:q,suggestions:S,onSearchChange:function(e){var t,n=e.value;T((t=n,i.sort((function(e,t){return e.displayName===t.displayName?0:e.displayName>t.displayName?1:-1})).filter((function(e){var n;return null===(n=e.displayName)||void 0===n?void 0:n.includes(t)})).filter((function(e,t){return t<5}))))},renderEmptyPopup:!0})]})},W=n(137),Y=n(187),z=(n(361),["replyTo","attachments","handleNewAttachments","removeAttachment"]),G=function(e){var t=e.replyTo,n=e.attachments,c=e.handleNewAttachments,a=e.removeAttachment,r=Object(b.a)(e,z),s=t?{borderTopLeftRadius:0,borderTopRightRadius:0}:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px"};return Object(O.jsxs)("div",{className:"chatbar-content",style:s,children:[Object(O.jsxs)("div",{className:"chatbar-wrapper",children:[Object(O.jsx)("div",{className:"add-wrapper",children:Object(O.jsx)(W.a,{handleFile:c,actionOnChange:"set attachment",children:Object(O.jsx)("div",{className:"icon-btn",children:Object(O.jsx)("img",{src:Y.a,alt:"upload a file"})})})}),Object(O.jsx)(J,Object(j.a)({replyTo:t,isAttachments:n.length>0},r))]}),n.length>0&&Object(O.jsx)("div",{className:"attachments-ctn",children:n.map((function(e,t){return Object(O.jsx)(y,{name:e.name,cancel:function(){return a(e)}},t)}))})]})},Q=(n(362),function(e){var t=e.task,n=e.cancel;return Object(O.jsxs)("div",{className:"upload-progress-wrapper",children:[Object(O.jsxs)("div",{className:"content",children:["Uploading ",Object(O.jsx)("span",{className:"text-wrapper",children:t.name}),Object(O.jsxs)("span",{className:"progress-wrapper",children:[t.progress,"%"]})]}),Object(O.jsx)("div",{className:"actions",children:Object(O.jsx)(f.a,{svg:x.a,onClick:n})})]})}),X=(n(363),["replyTo","setReplyTo"]),Z=function(e){var t=e.replyTo,n=e.setReplyTo,i=Object(b.a)(e,X),o=Object(s.useContext)(l.a).setError,u=Object(s.useState)([]),d=Object(r.a)(u,2),m=d[0],f=d[1],p=Object(s.useState)([]),h=Object(r.a)(p,2),v=h[0],x=h[1],g=Object(s.useRef)();return Object(s.useLayoutEffect)((function(){g.current.style.top="-".concat(g.current.offsetHeight+10,"px")})),Object(O.jsxs)("form",{className:"chat-bar",name:"chat-bar",onSubmit:$,children:[Object(O.jsx)("div",{className:"upload-tasks-ctn",ref:g,children:v.map((function(e,t){return Object(O.jsx)(Q,{task:e},t)}))}),t&&Object(O.jsx)(V,{displayName:t.displayName,close:function(){return n()}}),Object(O.jsx)(G,Object(j.a)({replyTo:t,attachments:m,handleNewAttachments:function(e){if(5===m.length)return o("Woooaa, that's a lot of files there bud");f((function(t){return[].concat(Object(A.a)(t),[e])}))},removeAttachment:function(e){f((function(t){return t.filter((function(t){return t!==e}))}))},setReplyTo:n,getAttachmentsURL:function(){if(0!==m.length){var e=Object(A.a)(m);return f([]),Promise.all(e.map(function(){var e=Object(a.a)(Object(c.a)().mark((function e(t){var n,a,r;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(_.a)(t),a=U()(),x((function(e){return[].concat(Object(A.a)(e),[{id:a,task:n,name:t.name,progress:t.progress}])})),Object(_.l)(n,(function(e){x((function(t){return t.map((function(t){return t.id===a?Object(j.a)(Object(j.a)({},t),{},{progress:e}):t}))}))})),e.next=6,n;case 6:return e.next=8,Object(D.b)(n.snapshot.ref);case 8:return r=e.sent,e.abrupt("return",{name:t.name,url:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}},cleanUpAttachments:function(){return x([])}},i))]})};function $(e){e.preventDefault()}var ee=n(49);t.a=function(e){var t=e.room,n=e.msgList,j=e.userList,b=e.submitMsg,d=e.isVisitor,m=Object(s.useContext)(u.a).user,f=Object(s.useContext)(l.a).setError,p=Object(i.g)().channelID,h=Object(s.useState)(),v=Object(r.a)(h,2),x=v[0],g=v[1],y=Object(s.useRef)();function N(){return(N=Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.j)(m,p);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),f(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(O.jsxs)("main",{id:"chat",children:[Object(O.jsx)(M,{roomID:t.id,msgList:n,userList:j,setReplyTo:g,onReplyTo:function(e,t){g({displayName:e,msgID:t}),y.current.focus()}}),d?Object(O.jsxs)("div",{className:"subscribe-banner",children:[Object(O.jsx)(ee.a,{className:"filler",text:"Subscribe",onClick:function(){return N.apply(this,arguments)}}),"to this channel to chat"]}):Object(O.jsx)(Z,{userList:j,submit:b,roomName:t.name,replyTo:x,setReplyTo:g,chatBarInputRef:y})]})}},234:function(e,t,n){"use strict";n(8),n(253);var c=n.p+"static/media/menu-fill.1583b894.svg",a=n.p+"static/media/user-3-fill.173d960e.svg",r=n(99),s=n(6);t.a=function(e){var t=e.room,n=e.isMobile,i=e.showUserList,o=e.showNav;return Object(s.jsxs)("section",{className:n?"top-bar mobile":"top-bar",children:[t&&Object(s.jsxs)("header",{children:[n&&Object(s.jsx)("nav",{children:Object(s.jsx)(r.a,{svg:c,onClick:o})}),Object(s.jsx)("div",{className:"room-name-wrapper",children:t.name})]}),Object(s.jsx)("div",{className:"toolbar",children:t&&Object(s.jsx)("div",{className:"channel-functions",children:n&&Object(s.jsx)(r.a,{svg:a,onClick:i})})})]})}},235:function(e,t,n){"use strict";var c=n(8),a=(n(252),n(131)),r=n(192),s=n(3),i=n(15),o=n(12);var u=n(6);t.a=function(e){var t=e.list,n=e.roles;n=n||[];var l=Object(c.useRef)({}),j=function(e,t,n){var a=Object(c.useState)({}),r=Object(o.a)(a,2),u=r[0],l=r[1];return Object(c.useEffect)((function(){t.forEach((function(t){if(n){var c=e.filter((function(e){return"Online"===t?!e.role:e.role===t})).length;0===c?n.current[t].classList.add("hidden"):n.current[t].classList.remove("hidden"),l((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(s.a)({},t," - ".concat(c)))}))}}))}),[t,n,e]),u}(t,n,l);return Object(u.jsx)("aside",{className:"users-ctn",children:n.map((function(e,n){return Object(u.jsx)(a.a,{catRef:function(t){return l.current[e]=t},cat:e,headerSubtext:j[e],className:"role-users-wrapper",children:t.filter((function(t){return t.role===e||!t.role&&"Online"===e})).map((function(e){return Object(u.jsx)(r.a,{user:e},e.uid)}))},n)}))})}},236:function(e,t,n){"use strict";var c=n(0),a=n(2),r=n(12),s=n(8),i=n(16),o=n(30),u=n(41),l=n(64),j=n(42),b=n(126),d=n(58),m=n(49),f=n(62),O=n(59),p=(n(364),n(365)),h=n(6),v=function(e){var t=e.room,n=Object(i.g)().channelID,l=Object(s.useContext)(b.a).roomCategories,v=Object(s.useContext)(o.a).setError,x=Object(j.a)({room_name:t.name,room_category:t.category}),g=x.inputValues,y=x.setInputValues,N=x.handleChange;Object(s.useEffect)((function(){y({room_name:t.name,room_category:t.category})}),[t,y]);var w=Object(s.useRef)();Object(s.useEffect)((function(){return w.current=!0,function(){return w.current=!1}}),[]);var k=Object(d.a)(w),C=k.success,R=k.setSuccess,S=Object(p.useState)(!1),T=Object(r.a)(S,2),E=T[0],L=T[1];return Object(h.jsxs)(h.Fragment,{children:[C&&Object(h.jsx)(O.a,{text:C}),Object(h.jsxs)("section",{className:"room_overview",children:[Object(h.jsx)("header",{children:Object(h.jsx)("h2",{children:"Overview"})}),Object(h.jsx)("div",{className:"inner-content",children:Object(h.jsxs)("form",{className:"fields-ctn",onSubmit:function(){var e=Object(a.a)(Object(c.a)().mark((function e(a){var r,s;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),e.prev=1,L(!0),r=g.room_Name,s=g.room_Category,r===t.name){e.next=7;break}return e.next=7,Object(u.o)(n,t.id,r);case 7:if(s!==t.category){e.next=9;break}return e.abrupt("return");case 9:if(-1!==l.indexOf(s)){e.next=12;break}return e.next=12,Object(u.d)(n,s);case 12:return e.next=14,Object(u.n)(n,t.id,s);case 14:w.current&&(L(!1),R("changes saved")),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),v(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(h.jsx)(f.a,{label:"room name",name:"room_name",onChange:N,value:g.room_name}),Object(h.jsx)(f.a,{label:"room category",name:"room_category",onChange:N,value:g.room_category}),Object(h.jsx)("div",{className:"btn-ctn",children:Object(h.jsx)(m.a,{className:"filled",text:"Save changes",type:"submit",loading:E})})]})})]})]})},x=n(57),g=n(51);t.a=function(e){var t=e.room,j=e.close,b=Object(s.useContext)(o.a).SetError,d=Object(i.g)(),m=d.channelID,f=d.roomID,O=Object(l.a)().isMobileCheck.current,p=Object(s.useReducer)((function(e,t){if("swap_to"===t.type)switch(t.payload){case"overview":return"overview";case"delete room":Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.f)(m,f);case 3:j(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),b(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))();break;default:throw new x.a("that doesn't exist!")}}),"overview"),N=Object(r.a)(p,2),w=N[0],k=N[1];return Object(h.jsx)(g.a,{mobile:function(){return n.e(11).then(n.bind(null,138))},desktop:function(){return n.e(12).then(n.bind(null,142))},isMobile:O,children:function(e){return Object(h.jsx)(e,{close:j,categories:["".concat(t.name),"none"],btnList:[y("overview","".concat(t.name),!0),y("delete room","none")],dispatch:k,children:w&&{overview:Object(h.jsx)(v,{room:t})}[w]})}})};function y(e,t,n){return{text:e,category:t,isDefault:n}}},252:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},259:function(e,t,n){},260:function(e,t,n){},262:function(e,t,n){},362:function(e,t,n){},363:function(e,t,n){},364:function(e,t,n){}}]);
//# sourceMappingURL=3.07bfb771.chunk.js.map